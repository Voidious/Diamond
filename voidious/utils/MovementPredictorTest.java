package voidious.utils;

import static org.junit.Assert.*;
import static org.mockito.Mockito.*;

import java.awt.geom.Point2D;

import org.junit.Before;
import org.junit.Test;
import org.mockito.Mock;
import org.mockito.MockitoAnnotations;

import robocode.util.Utils;
import voidious.Diamond;

/**
 * Copyright (c) 2012 - Voidious
 *
 * This software is provided 'as-is', without any express or implied
 * warranty. In no event will the authors be held liable for any damages
 * arising from the use of this software.
 *
 * Permission is granted to anyone to use this software for any purpose,
 * including commercial applications, and to alter it and redistribute it
 * freely, subject to the following restrictions:
 *
 *    1. The origin of this software must not be misrepresented; you must not
 *    claim that you wrote the original software.
 *
 *    2. Altered source versions must be plainly marked as such, and must not be
 *    misrepresented as being the original software.
 *
 *    3. This notice may not be removed or altered from any source
 *    distribution.
 */

public class MovementPredictorTest {
  @Mock
  private Diamond diamond;

  @Before
  public void setUp() throws Exception {
    MockitoAnnotations.initMocks(this);
  }

  @Test
  public void testMovementPredictor() {
    newPredictor();
  }

  // @Test
  // public void testNextPerpendicularLocation() {
  // fail("Not yet implemented");
  // }
  //
  // @Test
  // public void testNextPerpendicularWallSmoothedLocation() {
  // fail("Not yet implemented");
  // }
  //
  // @Test
  // public void testNextLocationRobotStateDoubleDoubleBoolean() {
  // fail("Not yet implemented");
  // }

  @Test
  public void testPredict() {
    // Test criteria generated with voidious.test.LocationBot
    testPrediction(581.7277681507967, 547.0861101510578, 0.6240275869705048,
        0.0, 89L, -1252.767372286512, -0.5275697490636162, 6.5457804656690755,
        174L, 529.6741198774033, 18.0, 0.09645783790688855);
    testPrediction(469.84979017408943, 451.481863945933, 0.8103342774277819,
        -8.0, 266L, 566.6574521352212, -1.4831666294069343, 6.011039768727823,
        370L, 109.79387041803518, 898.446517742565, 5.610352955200433);
    testPrediction(529.2183015303349, 415.5012120147119, 4.670263189042221,
        0.0, 483L, -339.89586390208297, -4.070578166276882, 2.7348410997650876,
        609L, 357.6125435621164, 226.6561655806748, 0.5996850227653392);
    testPrediction(583.1486481539192, 541.0770384699063, 2.0543686938861985,
        0.0, 686L, 1120.8551573116665, 1.8158437378835188, 8.0, 774L,
        197.81504714318, 18.0, 3.870212431769718);
    testPrediction(430.64553995262895, 563.3472069723364, 1.2521911540190094,
        0.0, 124L, 615.6978158437835, 5.80961552273221, 5.925373636986299,
        232L, 580.0389793391518, 758.3238942214953, 0.7786213695716341);
    testPrediction(417.36454005332007, 456.5594643098834, 4.607003827400172,
        0.0, 317L, -742.1716653432438, -3.2705915467931113, 8.0, 394L, 18.0,
        571.1147568077557, 1.3364122806070602);
    testPrediction(565.470698789872, 434.9355127404287, 0.3561333111514018,
        0.0, 512L, -908.1369118755972, 5.103932883040322, 6.415725483426858,
        652L, 982.0, 165.29884461011116, 5.460066194191724);
    testPrediction(513.5225559405164, 407.5702070497116, 3.464630349788212,
        0.0, 781L, 1202.2326503703812, -1.0018950755072487, 8.0, 847L,
        818.1522414934359, 18.0, 2.4627352742809636);
    testPrediction(519.0549168932922, 591.27432292765, 4.972824220038008, 0.0,
        959L, 875.600703241681, 3.1258504990475213, 8.0, 1041L, 982.0,
        675.5296731191685, 1.8154894119059435);
    testPrediction(590.041305032508, 481.36443402565396, 5.9468659737686345,
        0.0, 1153L, 1178.2853103700916, 3.3256437948273625, 8.0, 1249L,
        871.1738205150763, 18.0, 2.9893244614164107);
    testPrediction(580.4088993999735, 452.26790139243013, 4.724454396833173,
        0.0, 107L, -1017.4012706342655, 2.3208940594637557, 6.310076366479233,
        202L, 274.79121114063935, 18.0, 0.76216314911734);
    testPrediction(415.14475607468745, 540.4279291170312, 2.1401466775388984,
        0.0, 567L, 822.438543767887, 5.7955014609340605, 8.0, 675L,
        560.9004319093762, 607.6329955634218, 1.652462831293373);
    testPrediction(431.9712684469052, 442.56762688502647, 5.088981175446874,
        0.0, 730L, 864.101961466665, 1.5778693551673229, 1.2685601913877145,
        1190L, 642.147821310032, 982.0, 0.38366522343460974);
    testPrediction(443.7559448609056, 574.534426203042, 4.32179733556697, 0.0,
        95L, -780.2900966688334, -2.1959143736902176, 1.7794865719946062, 391L,
        18.0, 858.410902558229, 2.1258829618767523);
    testPrediction(495.6026821235863, 406.00402557401895, 3.7558222472380915,
        0.890625, 520L, -728.7783820520816, 2.928669027832349, 8.0, 586L,
        516.8295423122858, 18.0, 0.4013059678908545);
    testPrediction(564.8343347207168, 567.1481769519856, 3.882390813227854,
        0.0, 704L, -1136.629106323159, -2.2541592568669664, 6.077634187981005,
        805L, 18.0, 669.576619114879, 1.6282315563608867);
    testPrediction(552.1567963497595, 423.57696366269977, 0.8741128868582522,
        0.0, 928L, 835.3466498050435, -2.2178989229396553, 1.3863519695185629,
        1334L, 18.0, 560.4171045917302, 4.939399271098182);
    testPrediction(480.4294524610333, 523.8668785144577, 5.818036195777783,
        7.5, 73L, 1176.7917275846685, -0.7152551518930839, 2.3283211361628955,
        288L, 18.0, 721.5977191036952, 5.102781043884697);
    testPrediction(497.8703643353754, 497.1606702491607, 0.6492452560107251,
        -3.375, 515L, 1066.122746077949, 3.4619152798246695, 8.0, 617L,
        155.71203475959322, 18.0, 4.111160535835396);
    testPrediction(406.47013046695906, 511.6154730039427, 5.37916535246828,
        2.0625, 746L, -320.9828931321463, 0.9753865587205928, 7.01858777021254,
        798L, 387.33786720488143, 191.87337572139143, 0.0713666040092864);
    testPrediction(568.1596210546026, 525.960890493106, 1.5463067246996414,
        8.0, 888L, 1169.7451414967086, -5.189854680885702, 2.8258364514780725,
        1136L, 840.1172975429911, 18.0, 2.6396373509935263);
    testPrediction(547.9975525802096, 419.1554180342809, 1.92436330247606, 0.0,
        95L, 1289.4303230884625, -3.0236930999190483, 4.391410431930112, 259L,
        18.0, 767.046901053695, 5.183855509736598);
    testPrediction(538.6317168730432, 415.98639025303993, 0.5605723707975259,
        0.0, 366L, 911.392998115127, 0.2148396678262996, 8.0, 449L, 982.0,
        868.3569200308144, 0.7754120386238255);
    testPrediction(586.2444567489304, 461.85477499154797, 5.339814218300474,
        0.0, 586L, -962.0422804447713, -5.622206554127435, 8.0, 712L,
        574.7852468812581, 151.72378507773755, 6.000792971352626);
    testPrediction(444.3889685063784, 424.61396427473636, 2.4411511384625584,
        0.0, 805L, 803.9441457091648, -5.407238476900795, 1.89583877114118,
        1065L, 365.72274451512465, 18.0, 3.3170979687413493);
    testPrediction(490.03740238496334, 486.52676727027296, 3.877687374681154,
        5.75, 1165L, 390.3119866960149, 6.010220614520071, 4.013398526927228,
        1263L, 409.35227428495784, 321.40886522194313, 3.6047226820216394);
    testPrediction(565.5526526429592, 565.3816787580536, 1.5144232219683278,
        0.0, 69L, 547.5180017253031, -1.6743170697885974, 5.736863076836387,
        147L, 532.6519860627432, 982.0, 6.123291459359317);
    testPrediction(421.68329440390323, 454.5969846006863, 1.443326894257041,
        -5.25, 247L, 981.9644435665164, 6.05115297407994, 6.8066961854951025,
        399L, 876.0053657405324, 682.7048058047621, 1.2112945611573935);
    testPrediction(489.7240098583792, 496.83529380635184, 1.291898311655841,
        -6.0, 475L, 398.6519047168779, -1.558286709258577, 8.0, 534L,
        392.7444902092785, 885.0472276115324, 6.016796909576849);
    testPrediction(553.7737999106864, 576.5311260117697, 1.622736230882568,
        0.0, 637L, -403.1686387943156, 0.518904222697854, 8.0, 693L,
        214.17344558791623, 793.6520900911621, 2.141640453580422);
    testPrediction(529.9654438428637, 589.3352192166805, 0.5636777046020789,
        0.0, 819L, -719.5274841856371, 1.819444676377282, 8.0, 901L,
        73.66405319849036, 982.0, 2.3831223809793616);
    testPrediction(473.40356246990495, 409.9118129938628, 1.8040513516779335,
        0.0, 1046L, 1163.429248132447, -4.727182572468787, 4.2864272283527125,
        1189L, 335.398735399468, 18.0, 3.36005408638874);
    testPrediction(593.4133461730673, 489.8954348811151, 5.9491302629083185,
        0.0, 115L, -681.4988941646587, -0.02357266288198634, 6.722528314133859,
        193L, 769.7591911096576, 18.0, 5.925557600026332);
    testPrediction(449.48429696987773, 420.4672557429301, 5.1876572147817495,
        0.0, 341L, -1260.8869062239273, -1.3002325003957607, 8.0, 441L, 982.0,
        967.1276445369206, 3.8874247143859884);
    testPrediction(408.51389661030436, 487.60247178311124, 1.6722455856987726,
        0.0, 577L, 480.1469766580267, -4.925801545661803, 0.6445315156539815,
        1322L, 456.2431885682907, 32.554673000291, 3.029629347216552);
    testPrediction(551.2185545939922, 421.05300222007673, 1.4277856857199047,
        0.0, 116L, -955.3422694759133, -3.7498579824797846, 1.8952729961915413,
        443L, 982.0, 790.3480712112633, 3.961113010419708);
    testPrediction(589.7667449504469, 474.4423789275062, 3.286582493454858,
        0.0, 575L, 1124.4120127628626, -4.57960352185772, 8.0, 721L,
        52.465765138440624, 835.8186038973167, 4.990164278776723);
    testPrediction(541.6273525240294, 420.9202219766138, 2.416226033415133,
        0.0, 822L, 363.750339277292, 4.41444622412717, 3.248620692382621, 936L,
        635.1114379100825, 648.2420503943353, 0.5474869503627149);
    testPrediction(417.2797145659157, 466.02898537473317, 3.122297792188002,
        0.0, 987L, -875.3065445559296, 1.1020090544763823, 8.0, 1072L, 982.0,
        777.9830824835891, 4.224306846664384);
    testPrediction(587.554326746686, 466.98915548616515, 0.4268303433920184,
        0.0, 1197L, -580.16536707243, 0.4425983216483811, 8.0, 1275L,
        144.67516918344143, 92.29525943694924, 0.8694286650403995);
    testPrediction(409.8168190822147, 520.5151357889658, 6.15239267336937, 0.0,
        197L, -866.5089595309348, 3.35308466867564, 3.078360333746858, 370L,
        401.397010669915, 982.0, 3.222292034865423);
    testPrediction(478.8469284052848, 413.13506150940856, 3.8438252382752274,
        2.0, 448L, -1215.4320719970538, -1.8786983374844715, 3.561168458060356,
        597L, 18.0, 629.7252353252752, 1.9651269007907568);
    testPrediction(527.787204019179, 410.080631859951, 0.32735559491189425,
        0.0, 719L, 1110.9774566515741, -1.6278823667980662, 6.004750427180228,
        814L, 18.0, 585.5376734246261, 4.982658535293415);
    testPrediction(421.950980786376, 450.4171292455942, 6.234720668505401, 0.0,
        1048L, -884.7992621221778, -4.949968925631722, 8.0, 1164L,
        79.23313215699783, 525.8908448565355, 1.2847517428736774);
    testPrediction(560.4826049205686, 428.9354566328718, 3.7149978704502615,
        0.0, 1265L, -543.2094103446693, -3.6347257521131984, 8.0, 1338L,
        320.51047432823185, 206.29069466600083, 0.08027211833706295);
    testPrediction(579.5754282359895, 550.148606631135, 1.6530657570477068,
        0.0, 79L, 546.4210579971458, 5.007458688514513, 8.0, 153L,
        412.7063143079262, 572.7793285337647, 0.3773391383826337);
    testPrediction(510.6789759955701, 492.2787122214399, 5.390824659973084,
        -5.375, 199L, 680.2384140604055, -4.060439927619457,
        1.0203690470814804, 696L, 982.0, 592.1324530186631, 1.3303847323536298);
    testPrediction(575.4128366369641, 444.97227634732997, 4.080127154682438,
        0.0, 803L, 747.0014943865194, -3.9746163674185606, 5.444477492423535,
        944L, 734.1705670943778, 979.770990555144, 0.10551078726387698);
    testPrediction(594.1612199805064, 503.83691846215527, 5.16825198535779,
        0.0, 1084L, 569.0581799496742, -4.080993232850812, 8.0, 1161L,
        845.7937649836034, 383.8959377600076, 1.0872587525069763);
    testPrediction(515.6258900907928, 407.0976712176476, 4.9775243607684025,
        0.0, 1261L, -1145.0637567077313, 4.533295043282948, 8.0, 1397L,
        361.1251568012549, 982.0, 3.227634096871765);
    testPrediction(588.3186687348043, 469.5794679258195, 3.5266838539435503,
        0.0, 95L, -526.7253215148347, -1.9583744473954097, 2.8936677709601573,
        279L, 76.32822241208747, 491.85397009619277, 1.5683094065481422);
    testPrediction(567.1134255730194, 435.63780062294, 2.8287072361787393, 2.5,
        365L, -983.4611924587412, 1.576330796683381, 8.0, 427L, 982.0,
        594.4451023608278, 4.40503803286212);
    testPrediction(435.44124081714654, 568.4718257589656, 2.6209374267485916,
        0.0, 546L, -306.2439914078934, -1.9782034215244328, 5.642742022851489,
        604L, 228.63778216839532, 374.3134028027715, 0.6427340052241587);
    testPrediction(590.4053738438316, 481.39912062566304, 1.075866109036663,
        0.0, 707L, -825.6440386427497, 2.444376086501494, 7.281022928197766,
        789L, 673.0465687202034, 982.0, 3.520242195538157);
    testPrediction(579.3953788589102, 548.1300087417982, 0.6370457173228372,
        0.0, 909L, 853.1533434678543, 4.251581912742743, 8.0, 1021L,
        134.12345842005638, 405.87672360542496, 4.888627630065582);
    testPrediction(585.8924598193519, 465.594022438376, 1.0311760475370835,
        0.0, 1114L, -763.1003625085357, -3.5112638609888136, 8.0, 1198L, 982.0,
        621.0851274823119, 3.8030974937278543);
    testPrediction(540.520654565049, 415.7013388584985, 3.5155838372762998,
        0.0, 54L, 766.0676238135554, -0.012720316721424041, 4.609434409397947,
        149L, 390.2474263191676, 18.0, 3.5028635205548757);
    testPrediction(411.20617179085014, 473.3807356704635, 4.832067220834189,
        4.0, 255L, -997.2636179243935, 0.9960093390438862, 2.415955428843607,
        469L, 634.683715719414, 18.0, 5.828076559878075);
    testPrediction(446.31546695169556, 423.3246556538098, 1.6892200876898287,
        0.0, 584L, -641.9714312924164, -3.7236004140571475, 8.0, 670L,
        832.6068222641616, 366.6121039275531, 4.248804980812267);
    testPrediction(553.5655108169558, 425.3781303629053, 2.6257390895261055,
        0.0, 758L, 570.7406484440589, -1.6082860613690722, 6.778499044070475,
        834L, 982.0, 648.0968426374548, 1.017453028157033);
    testPrediction(586.2253726271239, 465.32140031567155, 5.887351597775364,
        0.0, 959L, 943.0021529882423, 5.141637247333563, 8.0, 1082L,
        246.30031649913474, 326.80406000833267, 4.745803537929341);
    testPrediction(526.1822999795121, 505.52819119637206, 4.607254299849255,
        -7.375, 1154L, 921.548416257145, -0.6517125106271466, 8.0, 1251L, 18.0,
        18.92351595228649, 3.9555417892221088);
    testPrediction(530.0190706715134, 413.1821564924661, 5.365696451845223,
        0.0, 129L, -499.8369527855846, -1.2138443771800222, 8.0, 197L,
        958.2450660787433, 663.5323828329953, 4.151852074665201);
    testPrediction(416.45153671349726, 541.539343774232, 2.2418962496809645,
        0.0, 318L, 446.9875354190582, -4.973663226356219, 8.0, 379L,
        322.6111337103786, 727.8275841632809, 3.7067596198364616);
    testPrediction(518.6356547414127, 592.1032821451981, 0.7941082999252229,
        0.0, 480L, 672.4711800411874, 1.4386594690978773, 8.0, 556L, 982.0,
        267.80710102799947, 2.2327677690231007);
    testPrediction(461.5768997557593, 552.2497802673145, 2.755275219428445,
        -8.0, 653L, 313.2146699684702, -5.252382794476962, 8.0, 703L,
        488.77190597926307, 781.8125537072258, 4.813598761921427);
    testPrediction(440.6364847179219, 428.8051158573309, 1.309067475553609,
        -0.5, 776L, 612.8321304894723, -4.863488470934721, 7.598926499893121,
        862L, 343.82350185119395, 259.9327976432778, 2.728764311798474);
    testPrediction(576.8669650376747, 545.0758477887747, 1.718611689244822,
        0.0, 934L, -629.9723355427834, 2.9892370876958125, 8.0, 1010L, 982.0,
        729.6184367329953, 4.7078487769406365);
    testPrediction(585.9427525876563, 463.24541681349336, 1.867896669934781,
        0.0, 1132L, -458.3353253864285, -0.31040093376096767, 8.0, 1195L,
        127.65538120748582, 457.28502698491616, 1.5574957361738133);
    testPrediction(511.2375257025149, 421.86088881841164, 0.1692307640816486,
        -8.0, 78L, -773.9660523052621, -5.681277612000408, 8.0, 177L,
        454.1596126333838, 395.3590059952627, 0.771138459260826);
    testPrediction(567.2315953314122, 558.4902418812303, 4.728908747438061,
        0.0, 228L, 901.9931779570544, 4.6004514348367405, 8.0, 346L,
        802.1218267433792, 189.9687058672317, 3.046174875095217);
    testPrediction(486.9847778508945, 591.5414228833299, 2.1990373315013, 0.0,
        465L, 423.21244405032314, 1.809921587135868, 8.0, 523L,
        222.42324320442003, 288.2019077868648, 4.008958918637169);
    testPrediction(489.65529280665186, 496.01303593574397, 4.408024415338633,
        4.75, 604L, 614.1709090356028, 0.8480829221596187, 0.6865874558373173,
        1403L, 18.0, 777.8479886923498, 5.256107337498252);
    testPrediction(593.2580240298198, 511.3370530213643, 3.9365507617696034,
        0.0, 103L, -708.7253109685016, 5.362360666310527, 2.0132212000982457,
        381L, 526.0900130146299, 982.0, 3.015726120900544);
    testPrediction(511.95727016869984, 522.9945196607239, 3.785602398576551,
        -7.25, 469L, 404.3925309434376, -5.83687574589193, 1.89998129045812,
        692L, 215.16274859593557, 381.47699766437336, 4.231911959864204);
    testPrediction(526.7593559035895, 491.42566404603383, 5.199444098445127,
        -7.125, 772L, -684.2565091430815, 5.535391792767729, 8.0, 860L,
        492.3357481239243, 517.6821795236419, 4.4516505840332705);
    testPrediction(483.4189417533927, 496.992210333493, 4.650488970421987,
        5.7479960223196755, 898L, 1132.5247623453217, 5.6229409854117485, 8.0,
        1042L, 188.50378949897316, 195.2869038104166, 3.990244648654149);
    testPrediction(406.90958310851346, 507.13742777011856, 2.339057745934449,
        0.0, 1157L, -1130.6087732785402, -2.879595070097653, 8.0, 1238L,
        498.9041625760409, 18.0, 5.742647983016382);
    testPrediction(539.4888145032585, 552.2764612917592, 0.9018938394659665,
        8.0, 1336L, 343.70281488115944, -3.6067934558853345, 4.873417262175742,
        1408L, 395.3737236163778, 439.6558574572334, 3.5782856907602176);
    testPrediction(534.1925760101228, 424.7233607047412, 6.199881868217099,
        -7.5, 92L, -325.5025325692646, -5.39660478302801, 1.3668328902146425,
        326L, 343.0665571473162, 236.39505951592528, 0.8032770851890877);
    testPrediction(405.8514349900071, 504.422633960955, 3.465069897461574, 0.0,
        426L, -1145.6210138983442, 5.796453443686383, 3.1891921403162677, 626L,
        319.8268207334009, 982.0, 2.9783380339683716);
    testPrediction(541.6219155830897, 583.4468749656689, 5.477213970878932,
        0.0, 736L, -931.5188603671814, 4.716020049317601, 8.0, 853L,
        662.7662690073843, 982.0, 3.9100487130169475);
    testPrediction(503.46755867115024, 505.81349597632993, 3.7407338222344078,
        -3.75, 952L, 595.6594267955911, -3.7809821830656976, 8.0, 1034L,
        708.7866765709172, 835.1537681022968, 6.242936946348297);
    testPrediction(502.92981464521705, 503.22749198925044, 0.7325837810165221,
        2.78125, 1132L, -376.06376444927776, 2.314349127092198,
        6.9021013408762215, 1193L, 398.2541294499994, 830.2740354174093,
        3.046932908108722);
    testPrediction(545.4799438672227, 580.9911667812332, 4.168455482687161,
        -2.875, 1274L, -424.33202148151554, -5.105341061373217,
        5.3668881349675255, 1355L, 618.6260177755886, 478.6723907848728,
        5.34629972849353);
    testPrediction(484.11166355032395, 591.8690098832412, 0.9495820012964853,
        0.0, 100L, -1246.7953487699258, -2.8121165116849265, 8.0, 180L, 982.0,
        567.6824166498137, 4.4206507967911435);
    testPrediction(418.29906909962705, 543.8311712951647, 2.892189909815322,
        0.0, 296L, 787.1059590631323, -4.532933484059829, 8.0, 400L,
        116.87757106477414, 726.5680723334732, 4.642441732935078);
    testPrediction(503.928971239108, 594.1339377730577, 1.2815951687108724,
        0.0, 515L, -880.3708809299485, 4.733535756410662, 8.0, 631L,
        776.1787613111089, 314.4314956035782, 6.015130925121537);
    testPrediction(498.4488254582585, 594.0199880982063, 4.928510619147344,
        0.0, 750L, -809.9998249230806, 3.5997035616363906, 7.6341672233682125,
        849L, 18.0, 724.9994897130151, 2.245028873604149);
    testPrediction(500.8407879153322, 594.0245624144449, 0.7198462022418106,
        0.0, 103L, -731.3271778993892, -6.222164463246177, 8.0, 200L,
        456.41133155409307, 604.3477033538875, 0.7808670461752177);
    testPrediction(466.490350149425, 411.8440605148635, 0.2281292828941173,
        0.0, 503L, -447.14941154339766, 3.0308406252762428, 8.0, 564L,
        313.0744824319952, 701.691772196038, 3.258969908170361);
    testPrediction(494.25494640984493, 511.1601252506654, 2.7459176179707665,
        -5.25, 625L, -663.1637578151647, 0.19255456674705496, 6.26709461511132,
        702L, 396.7275557506854, 982.0, 2.9384721847178215);
    testPrediction(424.63218359537507, 443.3692474505761, 2.6214858855802197,
        0.0, 840L, -1026.2769534410518, 1.6309053461639502, 1.2841196874749221,
        1331L, 982.0, 727.9292586663533, 4.252391231744171);
    testPrediction(570.162914318504, 444.9901460808079, 4.323574164044947, 0.0,
        101L, -372.4147956468626, -2.2841010712645593, 8.0, 153L,
        345.9412484940084, 681.9031860033035, 2.039473092780386);
    testPrediction(492.8213583503682, 541.0104316691181, 3.160053181679099,
        -8.0, 213L, 918.5336273070327, -1.7280308912564557, 5.618895839076517,
        308L, 982.0, 604.868225865358, 1.432022290422643);
    testPrediction(592.1609482865153, 488.7121514337848, 0.27101560936450775,
        0.0, 663L, 1113.3545829455575, 0.6801375952324555, 8.0, 727L, 982.0,
        769.2499368696508, 0.9511532045969633);
    testPrediction(591.463938961928, 484.12728847334444, 3.7429751472174497,
        0.0, 847L, 1187.2358361677043, -5.886648968179836, 7.7939232229817055,
        1005L, 103.72989743284747, 245.0557617686785, 4.1395114862172075);
    testPrediction(408.4092764528955, 498.7605362699266, 6.067462711408426,
        0.0, 1096L, -651.0325898061546, -3.1560240944739903,
        3.3210313868087917, 1263L, 345.7748375076372, 982.0, 2.911438616934442);
    testPrediction(455.8192577071345, 417.5688222925765, 2.323305777175416,
        0.0, 1395L, 1277.3549598203226, -5.68304552008728, 8.0, 1532L,
        451.35176985013106, 18.0, 2.923445564267723);
    testPrediction(545.6650819196286, 582.0933850096293, 4.533276733389706,
        0.0, 124L, -1297.1048562511808, 6.13421334109073, 4.252477027395962,
        288L, 982.0, 736.8076922795964, 4.38430476730085);
    testPrediction(591.4010569356373, 490.8533056369046, 2.2853808893619005,
        0.0, 401L, -967.0474082159885, 4.113419743596687, 1.2615161176237593,
        808L, 549.8713291641768, 18.0, 0.11561532577900024);
    testPrediction(434.17724702463636, 433.3542460747131, 3.1749141688323603,
        0.0, 929L, 970.997735314079, -4.064796073358942, 7.053694309786352,
        1071L, 27.55969629724996, 976.4349422757549, 5.393303402653);
    testPrediction(514.0329341007722, 408.7985848150442, 0.36267503631146414,
        -2.5, 1191L, 529.1346533760059, 4.055734479867246, 7.221331863707151,
        1271L, 339.0908362029288, 170.30672133371155, 4.41840951617871);
    testPrediction(542.8891021591121, 583.9118837920441, 4.0814747794174435,
        0.0, 80L, 1011.0838651867916, 1.6202078608251949, 4.415255901074892,
        196L, 251.9893978609125, 982.0, 5.7016826402426375);
    testPrediction(409.5693944508504, 514.3649707895847, 5.132242292137908,
        0.0, 493L, 824.695600404882, -5.755326198295743, 8.0, 602L,
        392.26981277706204, 680.85311096365, 5.660101401021752);
    testPrediction(498.79703891340654, 493.38618032265606, 3.3602021173750076,
        4.0, 79L, -301.11377076691224, 1.0309349992903973, 8.0, 124L,
        784.3629634099029, 589.7566020124361, 4.391137116665405);
    testPrediction(589.2494115538773, 477.2980658724499, 6.077888397240546,
        0.0, 193L, -886.5975203417686, -1.833585236160955, 1.9983654822315198,
        415L, 982.0, 659.6476824646226, 4.2443031610795945);
    testPrediction(411.12159127475087, 510.8520762796493, 0.5497947345837824,
        0.0, 504L, -619.5793641241986, 4.016944048758328, 2.612743754826034,
        743L, 939.2662847672912, 622.3136883898374, 4.566738783342108);
    testPrediction(588.2682941400096, 474.2192853453182, 1.1616039457582428,
        0.0, 838L, 832.427724621969, -6.142636302027026, 8.0, 948L,
        724.1111117962614, 464.4913381641559, 1.3021529509108014);
    testPrediction(463.2521459487019, 586.5163865077311, 3.6748956537785697,
        0.0, 1020L, 1101.2125457918496, 5.191708614229892, 5.768649726635449,
        1203L, 891.2965259815915, 18.0, 2.5834189608288822);
    testPrediction(541.4119353736162, 584.738523249723, 1.1583407068864693,
        0.0, 1352L, -564.239737373656, 5.423086267226399, 8.0, 1428L,
        679.4343273124302, 627.6467522894566, 0.2982416669332832);
    testPrediction(515.6814416763652, 512.4522210229326, 0.9897937620936842,
        6.5, 60L, -1172.5965776426965, -1.441709652370677, 2.768068686334346,
        265L, 756.759306392203, 18.0, 5.831269416902593);
    testPrediction(496.8599170163367, 512.9639429165928, 6.107338639640576,
        5.375, 364L, 1029.573891442349, 1.5473732357318113, 8.0, 435L, 982.0,
        711.3843936438424, 1.3715265681928017);
    testPrediction(585.0581296805682, 460.65539377479337, 5.174030320947349,
        0.0, 557L, -629.3482558628962, -0.5751301200464063, 4.277009061998265,
        653L, 982.0, 504.755133780423, 4.598900200900943);
    testPrediction(550.0692865024989, 420.3595022312746, 3.5834443092718575,
        0.0, 781L, -1161.9504888089332, 1.285571731483227, 8.0, 840L, 982.0,
        371.77995807765177, 4.869016040755085);
    testPrediction(544.0989127020582, 417.68911718116834, 0.7928724660328736,
        0.0, 945L, -659.9561752307525, 2.4139794270759154, 6.136601142612943,
        1049L, 499.1072149786196, 982.0, 3.2068518931087917);
    testPrediction(431.4026950585605, 435.2729289680251, 5.201091015839256,
        0.0, 127L, 321.3890859199315, 3.7679773176533313, 6.788503890892385,
        179L, 604.2009248345718, 436.9158554565492, 2.685883026313002);
    testPrediction(495.4561232442908, 405.89666051599346, 4.026080159507301,
        0.0, 250L, -704.3873985920343, -1.4856558850810622, 6.339958254843101,
        362L, 132.79598523557877, 982.0, 2.5404242744262384);
    testPrediction(518.441471640226, 591.6309789491324, 5.032652346049301, 0.0,
        486L, -394.5760715309835, -1.6187019670445055, 3.312018747997403, 607L,
        640.1671471617383, 958.1523075017286, 3.413950379004797);
    testPrediction(439.7786056548213, 433.89377150600814, 0.28275519154447215,
        0.0, 697L, 569.5354259983478, -4.565446555127282, 2.8112436073458515,
        901L, 849.0532878651619, 214.8865219290538, 2.000493943596782);
    testPrediction(508.7191217180339, 593.6574662653829, 5.180796437616366,
        0.0, 1020L, 447.2051991398976, -2.1183206348204555, 7.732144523597078,
        1083L, 453.70499553663734, 187.5229840077657, 3.0624758027959103);
    testPrediction(440.57464189850396, 429.9632156713762, 5.0307488815553905,
        0.0, 1154L, -1103.75595673026, -2.223234858136742, 8.0, 1234L,
        358.41271759348484, 982.0, 2.807514023418647);
    testPrediction(478.15680011138124, 413.6470962281114, 3.492829889499507,
        0.0, 89L, -707.6454176461255, 0.5046878367500618, 8.0, 176L, 982.0,
        851.9552003094232, 3.9975177262495687);
    testPrediction(417.4807630835887, 545.6862302638101, 1.9593953053422979,
        0.0, 317L, -638.0447770368214, 2.269590120869438, 8.0, 402L,
        875.511889239167, 908.6959595522969, 4.228985426211738);
    testPrediction(588.5178769755966, 524.6506541985391, 1.829920831244788,
        0.0, 517L, 607.252141160578, -4.982895680729598, 8.0, 598L,
        422.861773769283, 498.3304861358266, 3.130210457694776);
    testPrediction(410.2568065358631, 475.26237571554026, 1.0813966937449417,
        0.0, 669L, 1070.3304134750806, -5.969446721023079, 8.0, 808L,
        790.7007964606786, 480.5135971441025, 1.395135279901447);
    testPrediction(439.04968344648825, 570.4225769397585, 1.0858016382232007,
        0.0, 904L, 1053.466174316629, -2.387197355126666, 8.0, 976L, 18.0,
        812.7546333078815, 4.98178959027612);
    testPrediction(507.01447758560715, 594.0169545746543, 4.9053100640281375,
        0.0, 1118L, -1100.744178840882, -0.20464764207236374, 8.0, 1181L,
        982.0, 599.5570431463154, 4.700662421955774);
    testPrediction(413.3920276332395, 521.1624954142001, 4.284728819635752,
        0.0, 1289L, -410.8005439736218, 1.0330544327879627, 8.0, 1346L,
        754.3605685842463, 295.35632409740674, 5.317783252423714);
    testPrediction(425.91236073594797, 555.5374816161451, 5.993497085175381,
        0.0, 92L, 391.2673840794509, -5.853707989539696, 8.0, 146L,
        341.251668967576, 349.88556696071015, 1.666614746508474);
    testPrediction(429.9847029756418, 561.6158802160041, 1.0167444566214603,
        0.0, 93L, 585.8535142570065, 2.510858273864711, 8.0, 172L,
        369.6036526216461, 54.33013866825485, 3.5276027304861732);
    testPrediction(582.7238424674513, 543.4284793357747, 5.345102339615483,
        0.0, 277L, 823.3165311792471, -2.6261130919270137, 8.0, 358L,
        657.4047848959647, 18.0, 2.718989247688468);
    testPrediction(500.8940412001442, 496.5644806021423, 2.892648063811232,
        3.25, 445L, -1049.282206070362, -4.851645054752516, 4.259232851582074,
        609L, 982.0, 635.5440420201339, 4.32418831623831);
    testPrediction(576.9884611619923, 446.5065272468794, 3.750818208620961,
        0.0, 745L, -996.9476654172425, 1.4141830668489472, 4.335432232189361,
        851L, 982.0, 268.8754046230043, 5.165001275469908);
    testPrediction(515.1709255925275, 529.3083227622913, 0.60711000029029, 8.0,
        1086L, -390.1438394475518, -1.07399074702316, 4.851550386525263, 1176L,
        700.0764746545359, 180.37306937548752, 5.816304560446717);
    testPrediction(573.4645366127088, 442.4014792320093, 5.385700911549965,
        0.0, 105L, 438.8838779807421, 2.387934533838738, 5.028080643468603,
        196L, 960.1368202552663, 535.2444058592444, 1.4904501382091166);
    testPrediction(523.4650768702277, 491.51386374120017, 2.0618056115560255,
        7.0, 284L, 1125.8820217444136, 2.4475470556106345, 7.483455556761498,
        381L, 18.0, 213.90288044262005, 4.509352667166657);
    testPrediction(418.88449912088817, 548.2148373205373, 5.765458377323571,
        2.0625, 506L, -562.0160865229839, -3.9888102357044137, 8.0, 583L,
        254.42597874196275, 812.3021787798301, 1.7766481416191573);
    testPrediction(501.94148679033043, 592.6568361330759, 5.845955030368692,
        0.0, 688L, -331.54124875459996, 3.264820124577696, 8.0, 735L,
        274.5981639940775, 632.962656865915, 2.827589847766802);
    testPrediction(524.8492479436521, 412.5891471192446, 3.2635688629804527,
        4.5, 800L, -1116.5649525385534, 5.4711712116853715, 8.0, 948L,
        88.88065972442297, 707.3942842335024, 2.451554767486238);
    testPrediction(476.3405713903407, 590.5089226262571, 5.268321491413245,
        0.0, 1058L, -668.2571959151063, -1.555736158404704, 8.0, 1125L,
        772.7527861567414, 982.0, 3.71258533300854);
    testPrediction(593.9100414516336, 503.2506698486936, 3.629796502977343,
        0.0, 1268L, 932.9213601398948, 1.4916456575737813, 8.0, 1350L, 18.0,
        717.083620729104, 5.121442160551126);
    testPrediction(555.2384208473252, 424.4852967396653, 1.7591189634587456,
        0.0, 109L, 1020.1662636097006, -0.8386005987568028, 7.943420320002381,
        180L, 982.0, 744.1068424378099, 0.9205183647019427);
    testPrediction(410.97488169320656, 497.7869668967029, 0.23282656984655795,
        0.0, 290L, 1218.4595396278676, -4.9792227371987305, 8.0, 437L, 982.0,
        350.81041744177173, 1.5367891398274118);
    testPrediction(472.9276713370271, 590.0979908064337, 5.824783633276027,
        0.0, 568L, 784.1604930125086, -1.1564942944207663, 8.0, 629L, 18.0,
        582.9875217651062, 4.668289338855261);
    testPrediction(432.9265717111914, 556.336388421593, 5.800690029930077, 5.5,
        715L, 1299.3332934653938, 5.9123424721921545, 7.978044097910362, 873L,
        18.0, 900.896097729387, 5.429847194942646);
    testPrediction(494.4538860439566, 593.3296922031371, 4.377417475335379,
        0.0, 1012L, -915.920795543372, -2.2374876200728204, 8.0, 1093L,
        81.74708592372433, 982.0, 2.1399298552625576);
    testPrediction(593.9968473534811, 499.167171770776, 6.206291785038225, 0.0,
        136L, -573.4723546516346, 4.6982134933026884, 5.176014347361161, 250L,
        914.0567010622048, 599.9516810773627, 4.621319971161328);
    testPrediction(414.9102295655108, 535.7990541456887, 0.025981168537841326,
        0.0, 344L, 1283.2647139523272, 1.8829293111852525, 2.8966670414509057,
        555L, 982.0, 359.7164090561102, 1.9089104797230938);
    testPrediction(539.6895656134454, 416.33124981036667, 1.495123168498847,
        0.0, 685L, 708.193201770941, 5.3155620421994705, 1.5009274738721388,
        1158L, 861.8666383080171, 980.2891857920141, 0.527499903518728);
    testPrediction(407.37079421054153, 488.7309533039545, 0.5945505680543801,
        0.0, 1305L, 830.6642870855808, 2.005894956012284, 8.0, 1389L,
        783.5380739720068, 18.0, 2.6004455240666653);
    testPrediction(511.2754687069214, 503.0805006330645, 1.398658869569625,
        5.0, 60L, 1076.5796871006614, -4.473936186636016, 7.352980550424242,
        196L, 352.80223783014736, 18.0, 3.2079079901131955);
    testPrediction(423.0572725890534, 448.2408503190571, 1.636151405525073,
        0.0, 321L, 608.5523541628104, -4.611804982683718, 4.855177388596034,
        450L, 293.0210439957001, 74.08269994721823, 3.307531730020947);
    testPrediction(406.464180512365, 490.87982987555, 3.232014940953191, 0.0,
        581L, 353.8481854265388, -4.871191527286586, 8.0, 631L,
        587.1178282225442, 623.7954255359333, 5.414367731421426);
    testPrediction(413.2893514806364, 534.6777650066017, 5.23194782238502, 0.0,
        701L, -385.2935628479387, 4.470474089558808, 2.2919411694221568, 870L,
        474.5119203428311, 833.1707880010495, 3.4192366047642415);
    testPrediction(426.7488692619763, 441.03753915755885, 2.8260572735975633,
        0.0, 991L, -797.9817770951395, 3.631830123906644, 8.0, 1081L,
        576.7608639653955, 18.0, 0.17470209032462203);
    testPrediction(453.6292375003373, 419.5964428118217, 4.251751146346098,
        0.0, 1203L, -1218.2085432031422, 0.831250206098308, 4.45108554773053,
        1332L, 982.0, 218.38593266592164, 5.0830013524444055);
  }

  private void testPrediction(double startX, double startY,
      double startHeading, double startVelocity, long startTime,
      double distance, double turn, double maxVelocity, long endTime,
      double endX, double endY, double endHeading) {
    MovementPredictor predictor = newPredictor();
    RobotState startState = RobotState.newBuilder()
        .setLocation(newLocation(startX, startY))
        .setHeading(startHeading)
        .setVelocity(startVelocity)
        .setTime(startTime)
        .build();
    long ticks = endTime - startTime;
    RobotState endState = predictor.predict(startState, distance, turn,
        maxVelocity, ticks, false);
    assertEquals(endX, endState.location.x, 0.01);
    assertEquals(endY, endState.location.y, 0.01);
    assertEquals(Utils.normalAbsoluteAngle(endHeading),
        Utils.normalAbsoluteAngle(endState.heading), 0.01);
  }

  @Test
  public void testNextRobotStateDiamond() {
    // Test criteria generated with voidious.test.LocationBot
    testPredictionFromDiamond(442.5693459193868, 493.76640593360327,
        1.7299736243445616, -8.0, 965L, -650.6245904653795, 4.461318516406411,
        8.0, 966L, 434.7781775234083, 495.5823616118912, 1.7997867944243349);
    testPredictionFromDiamond(452.24688018175493, 581.2034131817644,
        1.0781029036413936, 0.0, 1057L, 333.71603982628545,
        -3.5180135130192998, 8.0, 1058L, 453.03242122920875, 581.8222227346683,
        0.9035699784419606);
    testPredictionFromDiamond(458.1037932388907, 455.6104132810576,
        1.0261984719872685, -8.0, 1113L, 737.0120494966059, 5.652174134310302,
        8.0, 1114L, 452.7674462011276, 452.8675315314088, 1.0960116420670418);
    testPredictionFromDiamond(519.3697897790988, 506.1524012827753,
        1.3890916727186156, 6.0625, 1168L, -904.1395162708195,
        -1.3345593048119788, 6.021849409313684, 1169L, 523.2775616964153,
        507.2629078753862, 1.2939166869457999);
    testPredictionFromDiamond(416.5824178615558, 541.218325368483,
        5.467369557542463, 0.0, 1223L, -850.1906993976435, -5.862441109410684,
        8.0, 1224L, 417.41863510368034, 540.6699270424701, 5.29283663234303);
    testPredictionFromDiamond(497.1960874384433, 594.0898675223732,
        4.520250824569746, 0.0, 1311L, 665.3656311803934, -1.3979077771184576,
        2.671948541362282, 1312L, 496.2625614724656, 593.7313577305329,
        4.345717899370313);
    testPredictionFromDiamond(406.4866967769376, 511.49428661763284,
        1.3932176555169005, 0.0, 1395L, 875.0675497049295, -5.509873004218676,
        7.615898918996927, 1396L, 407.42534333426534, 511.8391672352628,
        1.2186847303174675);
    testPredictionFromDiamond(447.21876882354957, 577.0677856149223,
        4.375356709747907, 0.0, 102L, -689.3986078383523, -3.6738155786719155,
        8.0, 103L, 448.090748169472, 577.5573282793395, 4.200823784548474);
    testPredictionFromDiamond(579.5864867647557, 467.9926164820159,
        5.472929477502186, -6.875, 166L, -1044.002252749385,
        3.4222952039941408, 8.0, 167L, 584.8129000664326, 462.10192645451866,
        5.557468863145662);
    testPredictionFromDiamond(526.0036980611835, 410.4718223244644,
        3.7805733328274678, 0.0, 259L, -609.7380722102192, 2.75120155177966,
        3.997077208559406, 260L, 526.7304033845137, 411.1587716479546,
        3.9551062580269005);
    testPredictionFromDiamond(457.07611538116396, 419.4141902620738,
        1.047816631751025, 0.0, 318L, -1139.437550174203, 6.114009549385173,
        1.5067690296682594, 319L, 456.1362112024453, 419.0727519296811,
        1.2223495569504579);
    testPredictionFromDiamond(405.79823155845463, 498.18762218184696,
        6.169519796388918, 0.0, 410L, -603.2191068670636, 4.948632057697592,
        1.208661594308522, 411L, 405.73740172111127, 497.18947403107535,
        0.0608674144087642);
    testPredictionFromDiamond(593.5611940046172, 496.4138571414257,
        3.3067386727294026, 0.0, 493L, 677.3335394736418,
        -0.0026549921988703318, 8.0, 494L, 593.3994170850883,
        495.4270297865618, 3.3040836805305323);
    testPredictionFromDiamond(553.6387436405473, 548.365863305855,
        4.246188687668639, -8.0, 552L, 573.185842964489, 0.498564102811196,
        8.0, 553L, 559.1735150430194, 550.6823920715682, 4.316001857748413);
    testPredictionFromDiamond(413.3946450864977, 477.50311907120823,
        0.7458591003794617, 0.0, 595L, 354.0415956005179, 6.084392327312836,
        8.0, 596L, 414.19048414238995, 478.1086272851216, 0.9203920255788947);
    testPredictionFromDiamond(507.8398690628448, 500.69648210936265,
        1.4859219577444798, 4.5, 626L, -434.5140612339052, -4.30146792780594,
        8.0, 627L, 510.2897856536304, 501.19438641562385, 1.3702938947998555);
    testPredictionFromDiamond(429.39966803816634, 560.974915121685,
        3.010190575987556, 0.0, 660L, 1104.7886330429499, 3.292383861338257,
        8.0, 661L, 429.3565505618291, 559.9758451125092, 3.1847235011869888);
    testPredictionFromDiamond(489.9674753261157, 568.2131156757342,
        3.2787187245467098, -8.0, 722L, 1100.7192171089143, -4.352115697713828,
        8.0, 723L, 490.3710478039224, 574.1995277276362, 3.2089055544669365);
    testPredictionFromDiamond(538.497424771249, 583.2190653855138,
        4.137391735606133, -1.5, 763L, -415.8425566555037, -6.099007068210206,
        5.937996165316484, 764L, 540.3605354602315, 584.8860442577851,
        3.9824937644916365);
    testPredictionFromDiamond(594.2021832530883, 505.05207846645425,
        5.178178647952, -2.0625, 832L, -335.8060449575486, 3.9472668550765686,
        8.0, 833L, 596.7065088677101, 503.2893364359946, 5.325713511284645);
    testPredictionFromDiamond(563.2792993227911, 436.35571786664605,
        5.926471586994052, -5.25, 886L, -690.8792734249288, -6.075719451929896,
        7.360359224353455, 887L, 566.0681030783717, 430.76241172332976,
        5.820661001091896);
    testPredictionFromDiamond(474.41995454328605, 409.6286984934486,
        3.487682762830194, 0.0, 981L, 550.4588513139634, 1.6236876500413802,
        4.898711298210877, 982L, 473.92253382067827, 408.7611890556208,
        3.662215688029627);
    testPredictionFromDiamond(416.87399847431027, 457.26118920420276,
        0.8378082060039805, 0.0, 1046L, -569.6056710387228, 1.8271930261415505,
        2.990610118950959, 1047L, 416.0259237957963, 456.73131248300865,
        1.0123411312034134);
    testPredictionFromDiamond(412.3288480032468, 531.5561136502116,
        3.2778587665319456, 0.0, 1103L, -1112.8396120469836,
        2.9353888289256425, 8.0, 1104L, 412.63466749307094, 532.508203162623,
        3.4523916917313784);
    testPredictionFromDiamond(431.3903773304512, 435.33561565749517,
        0.09048474549814214, 0.0, 1196L, 1257.0388485860744, 2.135102314395665,
        8.0, 1197L, 431.6523036524176, 436.3007035301064, 0.2650176706975751);
    testPredictionFromDiamond(592.3072060122992, 508.773343220157,
        2.7537614640950556, 0.0, 1248L, 544.3371605187151, -5.718128703272644,
        8.0, 1249L, 592.8403937322025, 507.92734626073917, 2.579228538895623);
    testPredictionFromDiamond(433.34393723495157, 566.1349698338895,
        2.965678928462211, -1.25, 1303L, -1184.2017326504963,
        -0.8092197151638683, 8.0, 1304L, 432.606152941583, 568.2605695931242,
        2.807508465000225);
    testPredictionFromDiamond(482.5345034212538, 532.5587721192428,
        2.78849389433245, -8.0, 1335L, -750.3360420134932, -3.5105641050525302,
        8.0, 1336L, 479.2511628531921, 539.8539537286423, 2.718680724252677);
    testPredictionFromDiamond(507.05649495075676, 591.5018553054341,
        1.921724697728878, 0.0, 1400L, 806.3277029357191, -4.744180781090671,
        8.0, 1401L, 508.0409775725191, 591.3263732053557, 1.747191772529445);
    testPredictionFromDiamond(541.199963527756, 416.51328612393564,
        2.4210531887155633, 0.0, 101L, -761.3993888922238, -2.0004708247642125,
        8.0, 102L, 540.4197091672768, 417.13874845929496, 2.2465202635161305);
    testPredictionFromDiamond(443.8381495458905, 424.31167271830503,
        4.647310780876761, 0.0, 168L, 1119.729490391986, -2.774605060244297,
        8.0, 169L, 442.86671920780714, 424.07434783918075, 4.472777855677328);
    testPredictionFromDiamond(592.9428267750833, 494.6258061138532,
        5.302112658203839, -3.25, 222L, 771.8284831084325, 5.725249782612803,
        8.0, 223L, 593.8811696579006, 493.79996555159795, 5.43410318288591);
    testPredictionFromDiamond(454.1832045361044, 582.151211840144,
        1.588367257813886, 0.0, 286L, 538.0200134747095, -0.09568752211011766,
        3.989728578488505, 287L, 455.18015498642313, 582.2292490082713,
        1.4926797357037684);
    testPredictionFromDiamond(511.08725295742323, 407.0352314899378,
        0.8311678208690383, 0.0, 381L, 326.7219804015931, 0.8629751966309325,
        6.098786312562727, 382L, 511.93179037855606, 407.5707280298951,
        1.0057007460684713);
    testPredictionFromDiamond(433.74881412265006, 437.8690592764893,
        5.545983301489503, 0.0, 446L, -615.8712609884942, -0.5711882990251427,
        8.0, 447L, 434.53938148006796, 437.25668418442126, 5.3714503762900705);
    testPredictionFromDiamond(497.8894889149098, 406.47009446856515,
        3.3873348909363097, 0.0, 538L, -857.7558274754008, -2.33938923924723,
        1.1804899090471308, 539L, 497.9606380613518, 407.46756015667705,
        3.212801965736877);
    testPredictionFromDiamond(578.6945860189014, 551.3870876753547,
        1.6287569558508312, 0.0, 620L, -618.7130480634626, -0.6368296072614745,
        8.0, 621L, 577.7013728781814, 551.2707792186496, 1.4542240306513983);
    testPredictionFromDiamond(590.7418086308166, 476.79980245327187,
        0.5930527756112667, 0.0, 699L, -464.20814338144066, 1.060170758398785,
        8.0, 700L, 590.0474086704828, 476.0802131988438, 0.7675857008106997);
    testPredictionFromDiamond(542.6360444808325, 416.7530558096755,
        4.0913674959538175, 0.0, 766L, -1137.97458630841, -2.3342237563541843,
        4.75191958156169, 767L, 543.3359333664133, 417.4673075494988,
        3.916834570754385);
    testPredictionFromDiamond(572.8017823759131, 557.1993635307037,
        2.2455803617186576, 0.0, 858L, 1234.2616282696017, -1.8013513995003612,
        8.0, 859L, 573.6792445217214, 556.719717637702, 2.071047436519225);
    testPredictionFromDiamond(593.6134111475785, 499.86482736540137,
        4.9012340958445275, 0.0, 937L, 816.535963492314, -4.500681071082855,
        4.092218668722908, 938L, 592.6135135652253, 499.8791390670515,
        4.726701170645095);
    testPredictionFromDiamond(454.3101585857767, 547.4413711286403,
        5.773978873639177, 8.0, 995L, 775.7334806941283, 4.941233669153162,
        3.758436412569578, 996L, 451.7578159409397, 552.8714307068905,
        5.84379204371895);
    testPredictionFromDiamond(477.4086297831409, 408.7307405043981,
        3.1647987540224514, 0.0, 1074L, -751.7141842021564, 3.342427345076965,
        7.174829520818206, 1075L, 477.60508270261346, 409.7112537630697,
        3.339331679221884);
    testPredictionFromDiamond(416.9887141647785, 456.9191542121049,
        3.2669856941114315, 0.0, 1154L, -825.7722390296178,
        -0.4894505692184614, 1.1706160736018505, 1155L, 416.9395940542912,
        457.917947090907, 3.0924527689119987);
    testPredictionFromDiamond(589.9953534536317, 523.8330204919288,
        0.004472219265498012, 0.0, 1226L, -785.5252719969119,
        4.498921613443011, 7.5744766345273975, 1227L, 589.8173027509839,
        522.8489991774815, 0.17900514446493096);
    testPredictionFromDiamond(406.9102664656224, 501.46121659190607,
        3.489805508763381, 0.0, 1298L, -780.4877686317806, 4.906786159552729,
        0.968303721737243, 1299L, 407.39370284944187, 502.30020488761096,
        3.6643384339628136);
    testPredictionFromDiamond(560.9978935096678, 428.8102261673578,
        4.166972129914747, 0.0, 1381L, -509.32834060586583, 4.812179477286497,
        6.704977490285752, 1382L, 561.9299008500722, 429.17266556564726,
        4.34150505511418);
    testPredictionFromDiamond(571.5578721296713, 439.16549208934356,
        2.2550735358332488, 0.0, 174L, -792.7882007223366, 5.297874108576025,
        8.0, 175L, 570.9045333926554, 439.9225578029473, 2.4296064610326815);
    testPredictionFromDiamond(501.70010077636255, 406.55076573572495,
        6.079744872234276, 0.0, 241L, -1122.701487775077, -2.3549146834336314,
        8.0, 242L, 502.06913841656643, 405.62135128559373, 5.905211947034843);
    testPredictionFromDiamond(412.17038858279034, 467.232824634872,
        2.7190281467472714, 0.0, 372L, -690.6735040857676, 3.8670548558884814,
        3.345522829297738, 373L, 411.92489232660563, 468.20222217365534,
        2.893561071946704);
    testPredictionFromDiamond(519.914000605627, 408.4825638317595,
        5.152863902257772, 0.0, 121L, 341.7840276067213, -4.409259416499983,
        1.9168430167358035, 122L, 518.9491552505598, 408.74538209749653,
        4.978330977058339);
    testPredictionFromDiamond(541.1033373179064, 584.3492661965273,
        3.896595866733378, 0.0, 196L, 336.11610736186856, -4.661450431014806,
        8.0, 197L, 540.5549200634324, 583.5130613681538, 3.7220629415339452);
    testPredictionFromDiamond(590.0609019443913, 524.7585912614211,
        5.544670714028394, 0.0, 252L, -728.9111669916936, 6.045903591948887,
        8.0, 253L, 590.5954574112986, 523.9134578679266, 5.7192036392278265);
    testPredictionFromDiamond(586.8689104494265, 467.6573775817797,
        3.060373839562428, 0.0, 330L, -1005.7299381538555, -0.6312792265027767,
        5.448473502908848, 331L, 586.6159376816763, 468.6248509812987,
        2.885840914362995);
    testPredictionFromDiamond(432.37382777239816, 564.3089591305186,
        6.048538142008081, 0.0, 394L, 1294.8400290144323, 0.7042644183052804,
        8.0, 395L, 432.31374973190844, 565.3071528136537, 6.223071067207513);
    testPredictionFromDiamond(502.0537216487498, 406.72093577545496,
        1.8376120901782242, 0.0, 458L, -327.7407235761882, -1.8701676994848135,
        8.0, 459L, 501.0579766888717, 406.8130876874123, 1.6630791649787913);
    testPredictionFromDiamond(443.88203137854487, 573.0883957306721,
        2.958951522892716, -3.125, 528L, -1002.4898931651622,
        1.4624819413225847, 8.0, 529L, 443.67992808929506, 577.2084417571716,
        3.0925782937485318);
    testPredictionFromDiamond(483.21392989760864, 408.0155092268451,
        2.018335943720822, 0.0, 612L, 1106.7497094326607, -6.269908203869603,
        8.0, 613L, 484.1768944596438, 407.7458812381932, 1.843803018521389);
    testPredictionFromDiamond(509.28102249770484, 410.45241694078663,
        2.4602239341947296, 0.0, 685L, -314.439564669698, -0.03080939223253143,
        6.404370659354957, 686L, 508.62753847737395, 411.2093572522856,
        2.429414541962198);
    testPredictionFromDiamond(435.8149070045221, 432.27107010289444,
        1.9368148542362866, 0.0, 756L, -476.10206752017655,
        -1.3719599530349091, 3.386090251291766, 757L, 434.8331844221478,
        432.46138765662056, 1.7622819290368537);
    testPredictionFromDiamond(593.3135587376568, 488.32431336565514,
        4.118852416601406, 0.0, 822L, -616.5375161568675, -2.0727589283908934,
        1.3069036722584102, 823L, 594.0328119654002, 489.01906137348294,
        3.9443194914019735);
    testPredictionFromDiamond(463.7143069256225, 586.6614398383946,
        2.24546857886467, 0.0, 889L, -580.9102164378903, -1.1812959025714198,
        3.2355153864184154, 890L, 462.8367911691096, 587.1409876431769,
        2.0709356536652375);
    testPredictionFromDiamond(538.9679123590801, 584.9917467915641,
        0.9838174159196285, 0.0, 959L, -612.6147433535219, -2.024235644579707,
        8.0, 960L, 538.2441187125957, 584.3017303009576, 0.8092844907201955);
    testPredictionFromDiamond(407.5993297497287, 483.04291425456626,
        6.052410611329389, 0.0, 1046L, 1022.075528599103, 1.6751876467085456,
        4.6040963834304565, 1047L, 407.5431176244577, 484.0413331030324,
        6.226943536528822);
    testPredictionFromDiamond(439.5818729950587, 430.1030662199311,
        1.6708044232015342, 0.0, 1112L, 1136.0653480906662,
        -0.32086467884038417, 8.0, 1113L, 440.5790973050325, 430.1775220833481,
        1.4962714980021012);
    testPredictionFromDiamond(407.000594541473, 489.7973201272342,
        2.5279672470151113, 0.0, 1168L, 339.9045664456895, 6.029702531970795,
        8.0, 1169L, 407.4257127522668, 488.8921822886419, 2.702500172214544);
    testPredictionFromDiamond(477.9200624717796, 408.991019856792,
        0.4963346972179102, 0.0, 1259L, -1006.4705022158109, 0.595615412985139,
        8.0, 1260L, 477.29839665730924, 408.2077372672249, 0.6708676224173431);
    testPredictionFromDiamond(484.3002470396079, 479.45085924058077,
        0.7774641723746318, -7.25, 1300L, 1216.80962398423, 0.8144486402868854,
        1.9559224408908502, 1301L, 480.3315414657597, 476.0140182392969,
        0.8570948194968732);
    testPredictionFromDiamond(407.52382155631136, 518.4326013484628,
        6.275428381333591, 0.0, 1386L, 333.7003310511489, 1.6986579339448404,
        8.0, 1387L, 407.68982550570206, 519.4187264362617, 0.16677599935343768);
    testPredictionFromDiamond(461.45326565157313, 586.0490502842707,
        4.686525781003348, 0.0, 119L, -673.0685007067231, 4.346362329766476,
        8.0, 120L, 462.4422346482609, 585.900927620271, 4.861058706202781);
    testPredictionFromDiamond(563.1587684305607, 569.0221511790079,
        5.464088585773683, 0.0, 205L, -405.38540553169827, 1.967018904873747,
        6.19249351305234, 206L, 563.7596182415399, 568.2227892430576,
        5.638621510973116);
    testPredictionFromDiamond(445.66066451206984, 423.2405251525629,
        2.6806136349864405, 0.0, 288L, -1262.282188132807,
        -0.39372183060425936, 8.0, 289L, 445.0670749239981, 424.045293069998,
        2.5060807097870077);
    testPredictionFromDiamond(562.4188542299084, 569.2563706840651,
        0.2010458764232959, 0.0, 381L, 595.5507079218146, -2.6903506239890107,
        7.6910858738456485, 382L, 562.4453640750876, 570.2560192363617,
        0.026512951223862963);
    testPredictionFromDiamond(406.6237336991604, 497.8845594457747,
        2.8029272584552434, 0.0, 442L, -888.509834942578, -5.059159729067189,
        8.0, 443L, 406.1327676373733, 498.7557381451087, 2.6283943332558106);
    testPredictionFromDiamond(585.156081494306, 473.17235954925377,
        3.091180565409145, 0.0, 476L, 778.5372463063054, -4.320760077607279,
        1.8416532854854486, 477L, 585.3791342554674, 472.19755317579376,
        2.916647640209712);
    testPredictionFromDiamond(532.0946489687703, 415.97817270462815,
        3.222556349034494, 5.4375, 550L, 955.189977162704, -3.5714628495069194,
        6.559235199422476, 551L, 532.2387887773862, 409.54228659892584,
        3.119200132392955);
    testPredictionFromDiamond(479.3469704679563, 410.54775346883855,
        5.849078562008045, 0.0, 605L, 716.0195469636593, -2.9434240161066763,
        5.978602747633797, 606L, 478.77521852904056, 411.3681800166453,
        5.674545636808612);
    testPredictionFromDiamond(412.37309477363124, 467.25907648395236,
        4.742546093097812, 0.0, 675L, 616.9104138012826, 5.532837428404145,
        8.0, 676L, 411.3939707380433, 467.46234016229647, 4.917079018297245);
    testPredictionFromDiamond(466.6215405339437, 503.84430716831946,
        4.969287658917293, 8.0, 717L, -1132.4953904907175, -5.654068491336016,
        6.866606435363703, 718L, 460.7262375861805, 504.96028349158735,
        4.8994744888375195);
    testPredictionFromDiamond(542.9428456111951, 416.4170695364098,
        1.5792208329920272, 0.0, 787L, 390.3323923506231, -1.2802469050529268,
        7.097830239014474, 788L, 543.9290813002208, 416.58241513112614,
        1.4046879077925942);
    testPredictionFromDiamond(435.6867684204824, 431.1340914714661,
        0.7198937208914615, 0.0, 871L, -1072.7633814008902, 3.1634264139513366,
        7.776621203104616, 872L, 434.9069181111919, 430.50812542198776,
        0.8944266460908945);
    testPredictionFromDiamond(592.3751406244214, 482.1688635520649,
        4.379688200325044, 0.0, 938L, 824.7918523031015, 1.8305575858951357,
        8.0, 939L, 591.3876231040712, 482.01135435550395, 4.554221125524477);
    testPredictionFromDiamond(546.7646545105447, 418.8868145929008,
        4.06418500208195, 0.0, 1014L, 631.2011107532394, 1.1658072343706323,
        3.860812225620688, 1015L, 545.8747547958801, 418.43065837202926,
        4.238717927281383);
    testPredictionFromDiamond(415.97353871910025, 541.4945213227726,
        5.698626961228631, 1.25, 1084L, -499.5626479631261, -4.061365715932433,
        8.0, 1085L, 416.2271514210655, 541.218286644642, 5.540456497766645);
    testPredictionFromDiamond(474.64297061400055, 542.2903572141767,
        5.974875181734143, 8.0, 1127L, 512.7387055437881, 5.050692705474944,
        0.8085360235185974, 1128L, 473.2255162491393, 548.1205221452516,
        6.0446883518139165);
    testPredictionFromDiamond(552.2823834322706, 578.2560171371181,
        1.3124606674148414, 0.125, 1193L, -320.98620329146206,
        4.10847614471302, 8.0, 1194L, 551.3483031415664, 578.1760155088987,
        1.4853573464405296);
    testPredictionFromDiamond(413.24889614396466, 465.92424681208894,
        3.93215410649167, 0.0, 1251L, -754.0048866879006, -1.3643034777724958,
        8.0, 1252L, 413.8266944350454, 466.74042640925137, 3.757621181292237);
    testPredictionFromDiamond(420.5076899625731, 541.5569106178918,
        5.558897566299934, 5.25, 1302L, 973.8160356914136, -3.642279675559538,
        2.642441900265653, 1303L, 418.10919735338433, 543.750021012666,
        5.453086980397778);
    testPredictionFromDiamond(513.1771344360245, 477.438172456273,
        5.902860529573213, -6.875, 1347L, -498.54327209830524,
        -5.832292981315672, 1.642500444362998, 1348L, 515.3626036805492,
        473.0804954166983, 5.8183211439297375);
    testPredictionFromDiamond(469.770609614418, 411.3419189397896,
        4.974675575902671, 0.0, 1419L, -392.93865587782824,
        -3.3859530886868185, 3.798040586918805, 1420L, 470.76676173132677,
        411.2542778536589, 4.800142650703238);
    testPredictionFromDiamond(449.76666178045804, 496.8351204045146,
        4.856330063780063, 8.0, 116L, 668.7938933637336, -0.09031225792377029,
        1.6501688688573108, 117L, 443.783139075826, 497.27948066731176,
        4.7865168937002895);
    testPredictionFromDiamond(434.74268671030063, 567.2317234754012,
        3.7733131419659514, 0.0, 192L, 613.464855029039, -3.683247168769852,
        8.0, 193L, 434.3012604468219, 566.3344259473141, 3.5987802167665186);
    testPredictionFromDiamond(409.50260988251523, 473.9567700223058,
        6.1314458911258605, 0.0, 273L, -579.3341704150085, -2.8611566209304677,
        4.219747271704113, 274L, 409.8231241447029, 473.00952633257526,
        5.956912965926428);
    testPredictionFromDiamond(440.0338288077134, 427.355695417777,
        3.817374465183175, 0.0, 362L, -852.2767003880302, 1.9123717324076157,
        4.089030172807176, 363L, 440.78531689661827, 428.01544207539195,
        3.991907390382608);
    testPredictionFromDiamond(406.41000608570306, 496.7258818797522,
        2.1054762918455667, 0.0, 433L, 801.358710296321, -2.485938252222487,
        8.0, 434L, 407.34585110091297, 496.3734700361561, 1.9309433666461338);
    testPredictionFromDiamond(440.9222125412382, 551.2622564278145,
        2.623495751149019, -8.0, 482L, 741.4927606808396, 5.391759888987599,
        8.0, 483L, 438.32169562502247, 556.6694101863528, 2.6933089212287924);
    testPredictionFromDiamond(502.05039222014165, 406.8170729196535,
        4.3480046184586785, 0.0, 535L, -555.5577642245325,
        -0.17162910717420754, 3.1235456616260104, 536L, 502.910143699566,
        407.3277855527728, 4.176375511284471);
    testPredictionFromDiamond(576.2629040169599, 554.6367527158717,
        1.1697844660751855E-4, 0.0, 603L, 1061.7648858541634,
        0.11678112883686165, 8.0, 604L, 576.3795360673915, 555.6299279092852,
        0.11689810728346917);
    testPredictionFromDiamond(591.2822791055909, 479.4110484531025,
        0.8552189691847715, 0.0, 682L, -455.6951439550228, -5.370621491744913,
        4.53688206031856, 683L, 590.6529527805001, 478.63390729697466,
        0.6806860439853385);
    testPredictionFromDiamond(585.5427026048784, 468.4175959258029,
        1.1555073987586106, 0.0, 751L, -351.79228229337065, 0.3768511117604785,
        6.545184495076903, 752L, 584.5715446114485, 468.1791590331095,
        1.3300403239580436);
    testPredictionFromDiamond(439.836258415322, 566.2936874925699,
        1.9562878547840954, 0.0, 810L, -749.8586926167702, -6.10533556742841,
        8.0, 811L, 438.8584277801745, 566.5030848396568, 1.7817549295846624);
    testPredictionFromDiamond(531.2849014000903, 588.8808032230337,
        1.4245023437614661, 0.0, 889L, 939.7442771231117, -4.2417066845529,
        0.7212755041742922, 890L, 531.9693738042818, 589.1082584512045,
        1.2499694185620331);
    testPredictionFromDiamond(582.5903082562346, 541.8317139604653,
        1.62330365284166, 2.875, 940L, -711.1238996484647, -1.9193375334840885,
        0.6952734258422795, 941L, 583.4621942304796, 541.9054692851206,
        1.4864043896383548);
    testPredictionFromDiamond(582.3567828400597, 497.1180020108987,
        1.9346449683823506, 7.5, 977L, 914.6577518694525, 2.592930761055314,
        0.7961481491679017, 978L, 587.332432426346, 494.77430595669523,
        2.0110031231571024);
    testPredictionFromDiamond(470.26139535753595, 517.5093768123471,
        2.2381128962509056, -8.0, 1026L, -465.02787580229204,
        -2.440634958958726, 8.0, 1027L, 463.647453533269, 522.0100182716519,
        2.1682997261711323);
    testPredictionFromDiamond(504.13777786143254, 594.1442254060131,
        5.84570966051499, 0.0, 1095L, 434.9992996337586, 0.09270478938451987,
        8.0, 1096L, 503.7997968336505, 595.0853783292192, 5.9384144498995095);
    testPredictionFromDiamond(442.9829901731642, 456.61155063907967,
        1.2580661906764328, -8.0, 1145L, -858.543155923535, -1.610260219812174,
        3.78591495256286, 1146L, 437.4166805605077, 454.37186376452604,
        1.1882530205966595);
    testPredictionFromDiamond(586.9784975031168, 464.40709000433645,
        6.2161742513442375, 0.0, 1222L, -1269.2313874023298,
        -3.060077208796826, 1.5497014918604157, 1223L, 587.2176995730327,
        463.43612019546083, 6.041641326144805);
    testPredictionFromDiamond(479.43771957251516, 591.598117082117,
        3.666141145440114, 0.0, 1296L, -1043.237410257144, -1.0380933113879687,
        8.0, 1297L, 479.78063200281616, 592.5374844570802, 3.491608220240681);
    testPredictionFromDiamond(552.3714763501793, 577.3530984025866,
        1.0261958133074698, 0.0, 1365L, -693.4221977668826, 3.9803133524668297,
        8.0, 1366L, 551.4391734476707, 576.9914199570385, 1.2007287385069028);
    testPredictionFromDiamond(592.2382688427537, 515.4944210345565,
        5.6184660430967, 0.0, 1439L, 518.3716551440955, 4.3383181409698, 8.0,
        1440L, 591.7674785498343, 516.3766661819463, 5.792998968296133);
    testPredictionFromDiamond(429.95467555490916, 560.0655841840613,
        3.653459621094562, 0.0, 113L, 452.34917816147856, 3.863729758262945,
        0.8780347845426713, 114L, 429.3982153075345, 559.3863956417856,
        3.8279925462939945);
    testPredictionFromDiamond(586.1639290372135, 533.9428705295754,
        1.4957393962674246, 0.0, 194L, -898.972340521853, -4.856258703448058,
        4.580196856440294, 195L, 585.1949152256831, 533.6958639849996,
        1.3212064710679916);
    testPredictionFromDiamond(581.9843194146798, 454.63583587277947,
        5.671670420718247, 0.0, 273L, 398.26798487347287, -2.814915343859266,
        8.0, 274L, 581.2767534120479, 455.34248313409125, 5.497137495518814);
    testPredictionFromDiamond(520.3604097156782, 408.902884680878,
        3.942427718622815, 0.0, 347L, 691.0702303218158, -5.76512050709471,
        8.0, 348L, 519.7742569516907, 408.0926841271446, 3.767894793423382);
    testPredictionFromDiamond(449.5808449004584, 421.52124513908296,
        6.228082440162452, 0.0, 410L, -556.0994112736993, -4.152575954476702,
        8.0, 411L, 449.8084677920016, 420.54749577746804, 6.053549514963019);
    testPredictionFromDiamond(407.96605373464575, 485.5589694957856,
        2.871242088596463, 0.0, 467L, 1069.0172776147601, -4.850317958797565,
        8.0, 468L, 408.3964064490306, 484.6563086839512, 2.6967091633970304);
    testPredictionFromDiamond(488.8948915103778, 592.8049803824446,
        1.821916042762153, 0.0, 563L, 986.6114836377507, -1.4806364991575496,
        5.2652997638757375, 564L, 489.89196017535915, 592.7284684401584,
        1.64738311756272);
    testPredictionFromDiamond(557.3147335000625, 428.11344907558606,
        4.81432939875086, 0.0, 628L, 870.8243942962741, 1.7115720570502546,
        8.0, 629L, 556.3527094288097, 428.38641370027244, 4.9888623239502925);
    testPredictionFromDiamond(476.61711827502234, 409.2647241176342,
        1.6253386971276207, 0.0, 694L, -1244.7954745834018,
        -2.0302775626194753, 8.0, 695L, 475.624308508515, 409.14502128756055,
        1.4508057719281877);
    testPredictionFromDiamond(494.0606460324562, 482.85855696782846,
        0.46454998224159977, -6.0, 737L, -902.3333651622405,
        -0.8961035087981966, 8.0, 738L, 491.5387589061657, 476.32861934773973,
        0.3685568733819116);
    testPredictionFromDiamond(413.05869024407, 465.32897122817826,
        2.1768530686191676, 0.0, 790L, 756.78994556243, 2.4908446699733684,
        1.4719125909278383, 791L, 413.7691889578295, 464.62527272899973,
        2.3513859938186004);
    testPredictionFromDiamond(519.076392477337, 407.6931057891384,
        0.4171347680396247, 0.0, 879L, 923.931604107946, 2.882427998994334,
        8.0, 880L, 519.6341384800844, 408.5231174736461, 0.5916676932390577);
    testPredictionFromDiamond(473.04804932107476, 419.85974617458635,
        0.6899123059582704, -7.125, 931L, -1100.813296607753,
        3.840287751661304, 8.0, 932L, 467.47219880774963, 414.1230318664608,
        0.7711791992542563);
    testPredictionFromDiamond(407.1202965689723, 485.8823494302154,
        2.6508794771696413, 0.0, 1016L, 564.0685243162739, 4.432682444804575,
        8.0, 1017L, 407.4312350027402, 484.9319193747111, 2.825412402369074);
    testPredictionFromDiamond(545.3423580421198, 582.2332760405493,
        5.54504748237271, 0.0, 1093L, 496.91601352439943, -4.970848071930066,
        8.0, 1094L, 544.5512179586403, 582.8449110365331, 5.370514557173277);
    testPredictionFromDiamond(446.28511123729044, 425.00502394964036,
        3.3716935168034836, 0.0, 1158L, -606.838463267522, -2.360280131207226,
        8.0, 1159L, 446.3406505826458, 426.003480449002, 3.197160591604051);
    testPredictionFromDiamond(406.2855586318566, 496.69516140341324,
        3.1777050008222467, 0.0, 1243L, 606.4152421590404, -5.331999897104294,
        1.130456686175501, 1244L, 406.4235376041389, 495.70472624490566,
        3.003172075622814);
    testPredictionFromDiamond(472.91892679474563, 412.086352331757,
        0.6805626439579558, 0.0, 1315L, 355.83624784182297, 0.7869878579807787,
        8.0, 1316L, 473.6735604216842, 412.7424987247925, 0.8550955691573888);
    testPredictionFromDiamond(425.6130058386901, 460.8921017643794,
        1.4101105321461396, -7.6875, 1373L, -326.87608655536445,
        0.35963333199704106, 8.0, 1374L, 417.64311140596504, 460.1987167838544,
        1.4840143176602745);
    testPredictionFromDiamond(590.3271081240481, 480.7072237276337,
        5.285150008500789, 0.0, 1444L, -1132.5191032637276, 0.7660820905405767,
        6.781331054983761, 1445L, 591.060638858014, 480.02756744514426,
        5.459682933700222);
    testPredictionFromDiamond(502.1135512495274, 593.809785438107,
        6.100706370884269, 0.0, 88L, -303.2133757935039, 4.997456970912376,
        2.1878493345578716, 89L, 502.12149717700623, 592.8098170074871,
        6.275239296083702);
    testPredictionFromDiamond(516.1921530759504, 528.0406348211666,
        0.7045822310119068, 8.0, 131L, 394.7702153066553, -2.3682676742727855,
        0.8216194228037681, 132L, 519.7501025321448, 532.8718867983632,
        0.6347690609321336);
    testPredictionFromDiamond(592.5394197127579, 513.5636621827002,
        3.3885026277237293, 0.0, 198L, 701.8079452013721, 4.108626754511262,
        4.895291684781297, 199L, 592.1303421892022, 512.6511625499761,
        3.563035552923162);
    testPredictionFromDiamond(441.14411759754796, 573.4255025951403,
        0.5406497539947062, 0.0, 256L, -558.8538235317924, -3.2529751588475158,
        8.0, 257L, 440.7861252695857, 572.4917780677125, 0.3661168287952732);
    testPredictionFromDiamond(516.2120748653581, 592.4016797708558,
        2.722735264169235, 0.0, 330L, 1196.124476816402, -4.475177904884953,
        5.400435512014569, 331L, 516.7712498357381, 591.5726301025605,
        2.5482023389698023);
    testPredictionFromDiamond(590.2167883735008, 526.1006285487534,
        1.3745234444646954, 0.0, 420L, -554.9022993083147, -4.546130913804975,
        1.1002658886970569, 421L, 589.2847527229932, 525.7382619578777,
        1.1999905192652625);
    testPredictionFromDiamond(578.7244267823551, 449.63695109171476,
        0.7980404613702268, 0.0, 498L, -926.3991206514335, -2.4443090546116473,
        7.674730098548541, 499L, 578.1405404937248, 448.82511563920633,
        0.6235075361707938);
    testPredictionFromDiamond(406.6673031839941, 499.96287651955606,
        4.830571047068089, 0.0, 584L, 512.0195680488807, -1.696530471962042,
        8.0, 585L, 405.6688904735293, 499.9065554792389, 4.656038121868656);
    testPredictionFromDiamond(564.8540087703459, 432.86419989722134,
        0.4209969259128964, 0.0, 644L, 925.8659374036108, 3.446461671409926,
        7.1491801527561805, 645L, 565.4149562415481, 433.6920512936397,
        0.5955298511123294);
    testPredictionFromDiamond(577.5387645940998, 551.220384707183,
        3.5298643105278598, 0.0, 725L, -754.8976522084474, -5.4209391519333545,
        8.0, 726L, 577.7508796237129, 552.1976294125727, 3.355331385328427);
    testPredictionFromDiamond(584.5319868297047, 458.70519645208833,
        1.5489988871618572, 0.0, 797L, 455.69642820556595, -5.361399226448684,
        7.749174649031871, 798L, 585.512775850983, 458.90026796651347,
        1.3744659619624242);
    testPredictionFromDiamond(509.6890026986725, 593.0502646596046,
        1.1479569186453544, 0.0, 922L, 976.2388992499698, 6.233375708537814,
        3.192711539039609, 923L, 510.658332713586, 593.2960273951603,
        1.3224898438447874);
    testPredictionFromDiamond(465.86732538387736, 413.79946709908813,
        5.75666110529948, 0.0, 999L, 1050.6455975966112, 3.1991526248906794,
        8.0, 1000L, 465.5225577065066, 414.73815514558726, 5.931194030498912);
    testPredictionFromDiamond(466.22890228675135, 477.91079552633636,
        1.1476826668339246, -8.0, 1043L, -1233.7750720290344,
        -0.6131680683894123, 5.90086335700941, 1044L, 460.94319245027367,
        475.07155768413946, 1.0778694967541513);
    testPredictionFromDiamond(411.1196693520365, 529.087487411951,
        3.897447589475673, 0.0, 1112L, 999.3898175040996, -4.815722958473012,
        2.8133126341229624, 1113L, 410.57054008189874, 528.2517499862736,
        3.72291466427624);
    testPredictionFromDiamond(461.00095125689353, 526.8841278314242,
        5.475880341250953, 8.0, 1161L, 1030.6053141415346, 4.687038569034149,
        8.0, 1162L, 455.62148275557723, 532.8053877179133, 5.545693511330726);
    testPredictionFromDiamond(507.2981452026728, 443.8281417590866,
        0.14343201125656108, -8.0, 1209L, -1147.4575178963844,
        3.6638384917880504, 5.70639450462896, 1210L, 506.0283490969902,
        437.96404610417153, 0.21324518133633424);
    testPredictionFromDiamond(531.5500549135029, 583.3273927794169,
        5.915004103465642, 0.0, 1267L, 1149.9948171347455, 2.210393555099735,
        1.9782394281586098, 1268L, 531.3576146583702, 584.3087014710142,
        6.089537028665075);
    testPredictionFromDiamond(587.6043909807368, 532.7616436274063,
        5.988583392165229, 0.0, 1345L, -459.4927418775153, 2.2270111420613237,
        8.0, 1346L, 587.7241716814248, 531.7688432528381, 6.163116317364662);
    testPredictionFromDiamond(587.3603528220176, 534.4774480094906,
        4.984298397512719, 0.0, 1442L, 1102.829768802747, -5.628637995878992,
        4.24634150466505, 1443L, 586.3650901674683, 534.5746706841069,
        4.809765472313286);
    testPredictionFromDiamond(495.0583203652219, 406.7720944378338,
        4.616124088833167, 0.0, 105L, -646.3434179948968, 6.064432666914369,
        8.0, 106L, 496.05525898595994, 406.69390628987685, 4.7906570140325995);
    testPredictionFromDiamond(463.535527944258, 574.1327224181549,
        6.1453239098234596, 7.5, 156L, 432.24273506406666, 4.345312969719497,
        3.251227295494486, 157L, 463.19747332780224, 579.6223234124252,
        6.221682064598212);
    testPredictionFromDiamond(536.2911289001985, 585.905814838997,
        4.368138776674494, 0.0, 229L, 1102.6496824880185, 0.2138284775187147,
        7.86224944830936, 230L, 535.3054963411935, 585.7369111426808,
        4.542671701873926);
    testPredictionFromDiamond(585.9222795393581, 536.7959025885053,
        6.08199798927803, 0.0, 287L, -861.0966141261075, 5.785101325855159,
        2.0643450638447303, 288L, 585.9489307760406, 535.7962577957998,
        6.256530914477462);
    testPredictionFromDiamond(410.3940893093603, 473.0648603313529,
        5.649142174474742, 0.0, 369L, -958.6669690540126, -0.4098808322277785,
        6.181803546720844, 370L, 411.11739394393237, 472.3743312547699,
        5.474609249275309);
    testPredictionFromDiamond(534.8884655338928, 487.4830597445656,
        5.267822284680631, -8.0, 418L, 528.4004936947598, -1.274499939593837,
        8.0, 419L, 540.194779537473, 484.682518422712, 5.198009114600858);
    testPredictionFromDiamond(555.5311635860539, 426.78353537332265,
        6.170239747263082, -1.5, 455L, 362.62927713545395, -1.5005968558615335,
        5.331286787968268, 456L, 555.4650004670364, 427.02462133658446,
        6.015341776148586);
    testPredictionFromDiamond(466.35425148785, 412.19589199057185,
        1.0315999922657773, 0.0, 515L, -729.0178928324549, -0.9933185534833271,
        6.62582361270661, 516L, 465.59832573706353, 411.5412346303459,
        0.8570670670663443);
    testPredictionFromDiamond(413.3811916557079, 464.6545681601685,
        1.7860412180930636, -0.875, 567L, -471.95823227261764,
        0.9319578892928719, 3.773118021560718, 568L, 411.63878235713395,
        465.34712489881383, 1.9491204200762837);
    testPredictionFromDiamond(502.167993996157, 594.1902448163204,
        2.810287290197991, 0.0, 716L, 339.69692592663955, -3.000393385119007,
        8.0, 717L, 502.65253491517984, 593.315476219609, 2.6357543649985584);
    testPredictionFromDiamond(584.8027164233483, 541.2082426107667,
        0.062491832533066116, 0.0, 782L, 354.66087987415017, 4.68241217793733,
        6.682030940290483, 783L, 585.0375280361613, 542.1802835083055,
        0.23702475773249906);
    testPredictionFromDiamond(439.9155403250442, 428.16148517649765,
        4.451728264959703, 0.0, 950L, -1004.1901260383853, 2.265028137812026,
        8.0, 951L, 440.9118336191306, 428.2475065236065, 4.626261190159136);
    testPredictionFromDiamond(406.1996622105586, 504.93706554313826,
        5.716276131639278, 0.0, 1027L, -1257.1329789943368,
        0.28739993694784083, 8.0, 1028L, 406.58204736570326, 504.0130625165604,
        5.890809056838711);
    testPredictionFromDiamond(451.05126500727135, 576.736571762648,
        4.821803123479724, 0.0, 1096L, -698.448495277617, 0.985832605865574,
        8.0, 1097L, 452.01122216749707, 576.4564249252014, 4.996336048679157);
    testPredictionFromDiamond(504.63816165085296, 410.99394348885943,
        4.012867551521314, 0.0, 1145L, -1297.670755515454, 1.9544820024283638,
        4.617081011348029, 1146L, 505.5034913545319, 411.49514654544527,
        4.187400476720747);
    testPredictionFromDiamond(408.1843615517368, 481.23718495200086,
        0.1291638628967964, 0.0, 1214L, -425.05336783821474, 1.296835752470482,
        4.743318117123461, 1215L, 407.88531169588174, 480.2829474638916,
        0.30369678809622935);
    testPredictionFromDiamond(583.8408578449422, 469.7317004445308,
        5.223957671243157, 0.0, 1260L, 1136.615460669908, 0.5999367701940725,
        8.0, 1261L, 583.0671362303593, 470.36522618443985, 5.398490596442589);
    testPredictionFromDiamond(540.4867765087803, 466.2741786492939,
        5.594643006560558, -8.0, 1291L, 973.281262148046, 4.994685275866939,
        8.0, 1292L, 543.9667786587174, 461.3864813349716, 5.664456176640331);
    testPredictionFromDiamond(478.1795958389855, 408.2795137517395,
        1.859737547975947, 0.0, 1364L, 502.1085533095917, 5.542906486995074,
        8.0, 1365L, 479.07410059137084, 407.8324553126512, 2.03427047317538);
    testPredictionFromDiamond(487.3170520971015, 521.3665535194601,
        5.878514982595213, 7.0, 84L, 693.8042451790902, -5.595864195613795,
        2.8687986159335637, 85L, 484.9746346354286, 525.7839147719784,
        5.795611843125482);
    testPredictionFromDiamond(529.6286475223621, 588.5803994892474,
        0.9782375957765957, 0.0, 134L, 319.7376918733511, -0.6108328251460158,
        8.0, 135L, 530.3485797535034, 589.2744438556708, 0.8037046705771628);
    testPredictionFromDiamond(415.6856123031299, 459.94919464172096,
        0.24735520240477119, 0.0, 219L, -1104.9232279495807, 3.227740901725385,
        8.0, 220L, 415.2761285494995, 459.03687723231087, 0.42188812760420413);
    testPredictionFromDiamond(542.1361955507184, 496.5572546801571,
        1.8159829622025885, 8.0, 267L, -848.2830005170258, 2.0211514788755327,
        3.1866355018642847, 268L, 547.8409741857818, 494.6983569624424,
        1.8857961322823618);
    testPredictionFromDiamond(553.1377443132245, 422.9674021576597,
        4.680177099067288, 0.0, 328L, -495.0741059110841, -4.439849080356559,
        2.316113589718551, 329L, 554.1164486223154, 423.17267727881915,
        4.505644173867855);
    testPredictionFromDiamond(552.208570816447, 578.1154256103732,
        3.131734583424934, 0.0, 405L, 1082.0513814170831, 5.45205437006951,
        8.0, 406L, 552.0446392230953, 577.128953901351, 3.3062675086243667);
    testPredictionFromDiamond(588.959156480719, 513.3634566264518,
        4.941394958891574, -5.25, 456L, 479.4130046583372, -5.438949838215002,
        8.0, 457L, 592.1845248621951, 512.9640836131239, 4.835584372989418);
    testPredictionFromDiamond(439.5030648860287, 571.9707244266447,
        0.709846374136974, 0.0, 517L, -436.1204587019861, 5.728514849890605,
        0.7080178457429296, 518L, 438.9553976795184, 571.5220041342535,
        0.884379299336407);
    testPredictionFromDiamond(412.5118211744015, 517.5680345422743,
        5.16692194866224, 0.0, 578L, 1209.582406383209, -3.296041977475049,
        3.7745724500001967, 579L, 411.5507657479956, 517.8443902322389,
        4.992389023462807);
    testPredictionFromDiamond(453.1025283946518, 581.0742998178285,
        3.4098916925326996, 0.0, 651L, -377.5185606754175, -2.919283355766699,
        8.0, 652L, 453.1961571688581, 582.0699069957058, 3.235358767333267);
    testPredictionFromDiamond(526.7845409737366, 589.3490716202908,
        1.0602906639863652, 0.0, 722L, -760.0039389906703, 3.3674972613431713,
        4.45418090507302, 723L, 525.840450916999, 589.0193839426789,
        1.2348235891857982);
    testPredictionFromDiamond(434.6084893312757, 433.5034975381251,
        2.052636274056073, 0.0, 772L, -872.5595723582372, -5.079194696204331,
        6.818047178963203, 773L, 433.6553376994265, 433.805990458213,
        1.87810334885664);
    testPredictionFromDiamond(578.9942521284005, 541.4107444479715,
        1.9743497898784936, 0.0, 805L, -1083.1476483075435,
        -0.33267861695938983, 8.0, 806L, 578.0203629051247, 541.6377681929572,
        1.7998168646790607);
    testPredictionFromDiamond(409.55159272081636, 523.0575898609893,
        0.8118649407251519, 0.0, 887L, -1105.3849793825998, -4.990479810135186,
        1.1564407636205103, 888L, 408.95653938140356, 522.2539036515433,
        0.6373320155257189);
    testPredictionFromDiamond(510.24542095349756, 406.58500613703603,
        5.8589443361440425, 0.0, 966L, 1273.8380844722378, -1.7865039762805122,
        8.0, 967L, 509.68179085137587, 407.4110334416588, 5.68441141094461);
    testPredictionFromDiamond(435.4945126402034, 432.05566925224264,
        2.8493200258886353, 0.0, 1028L, -805.4136790648348, 6.171403424775576,
        5.715457599244018, 1029L, 435.377044779681, 433.0487459369676,
        3.023852951088068);
    testPredictionFromDiamond(414.55515786918784, 539.8790516347227,
        1.3518734224967888, 0.0, 1106L, 577.6507375665645, 1.4338504441378257,
        8.0, 1107L, 415.5541727958364, 539.9234270370688, 1.5264063476962217);
    testPredictionFromDiamond(490.08364844684564, 514.2575776999694,
        2.6681988324694585, -5.5, 1151L, -874.9431305380718, 1.326077537652492,
        8.0, 1152L, 487.7279631819422, 520.3156918399238, 2.7707369260241252);
    testPredictionFromDiamond(456.35659590383693, 416.7715693675005,
        1.1466177844197434, 0.0, 1220L, -476.90806861953104, 4.290116737688747,
        8.0, 1221L, 455.3875958672558, 416.52450878969466, 1.3211507096191764);
    testPredictionFromDiamond(593.5418777748029, 510.00292120476337,
        4.042454306626495, 0.0, 1287L, 419.45873314507094, 0.8301441516824166,
        3.405643100963066, 1288L, 592.662099979257, 509.5275360656765,
        4.216987231825928);
    testPredictionFromDiamond(568.3336725605167, 435.9596043026632,
        3.9529801756008025, 0.0, 1364L, 1025.72103385953, 0.9638113258541434,
        8.0, 1365L, 567.499891941835, 435.4075084052768, 4.127513100800235);
    testPredictionFromDiamond(461.8412033465109, 585.0350411792075,
        0.8231763374323506, 0.0, 93L, 453.49657938412696, 3.4580689951623533,
        5.940869309174648, 94L, 462.68143443391995, 585.5772696548074,
        0.9977092626317836);
    testPredictionFromDiamond(423.6009038029513, 445.7083143341718,
        0.02189526823919241, 0.0, 183L, 1126.435872384031, 1.0807993234676818,
        6.441759604608355, 184L, 423.7960712656657, 446.6890842671824,
        0.19642819343862536);
    testPredictionFromDiamond(591.8849145011603, 490.6863410878465,
        2.5255875476481626, 0.0, 233L, 1294.8770011236818, -2.355467306598359,
        8.0, 234L, 592.5956463614423, 489.9828780662312, 2.35105462244873);
    testPredictionFromDiamond(440.46418321318924, 571.9319310070986,
        0.4469102017594888, 0.0, 301L, 885.1581732792338, -0.669730111432207,
        7.928634349333583, 302L, 440.7332050439727, 572.8950650863222,
        0.27237727656005584);
    testPredictionFromDiamond(475.9844796648374, 408.97802255903946,
        1.6890913076212783, 0.0, 361L, 486.1137228633325, -3.4296509564283157,
        8.0, 362L, 476.9828987283795, 409.0342308640823, 1.5145583824218454);
    testPredictionFromDiamond(592.0483580651269, 489.78307843703084,
        2.843944097116143, 0.0, 434L, -731.3968759376595, -3.298414114728258,
        5.50793564567821, 435L, 591.5935279190207, 490.6736566414537,
        2.6694111719167104);
    testPredictionFromDiamond(468.3328916791715, 514.1275714120443,
        2.1475839908317877, -8.0, 480L, 1151.4974788030286,
        0.08942283649267235, 5.132588680058103, 481L, 463.54407373236035,
        517.7424327748491, 2.217397160911561);
    testPredictionFromDiamond(496.31697686098113, 594.1776891155408,
        3.8724314624000407, 0.0, 537L, 630.6854929800634, -3.936899031343568,
        8.0, 538L, 495.7889241393441, 593.3284775263761, 3.697898537200608);
    testPredictionFromDiamond(451.10432224185087, 421.3231435722207,
        0.6004100733988398, 0.0, 600L, -881.8843783563777, 5.069478306631327,
        8.0, 601L, 450.40464689064135, 420.6086826545283, 0.7749429985982728);
    testPredictionFromDiamond(590.8827817449279, 520.6001030914884,
        2.076717761062263, 0.0, 648L, -419.7618373555059, 3.3154480409769587,
        8.0, 649L, 590.1054948044923, 521.2292493481158, 2.2512506862616957);
    testPredictionFromDiamond(523.1308685607869, 496.0990224253586,
        1.9329174958708564, 6.46875, 704L, 1240.179769693003,
        -3.133525725456214, 8.0, 705L, 530.3245038039396, 494.09058060370387,
        1.8430603101627108);
    testPredictionFromDiamond(437.5146684816164, 568.0077856840909,
        0.4500356163235808, 0.0, 771L, 584.1849610690118, 1.5200554544677356,
        8.0, 772L, 438.0994158031955, 568.8190011732836, 0.6245685415230138);
    testPredictionFromDiamond(425.08776670911556, 442.73883268110865,
        3.4279683622173778, 0.0, 848L, -1126.1267578891718, -6.015373591854839,
        8.0, 849L, 425.1993764683464, 443.73258479388346, 3.253435437017945);
    testPredictionFromDiamond(407.952998019474, 512.7053910198565,
        5.455446277156701, 1.125, 903L, 1103.0656894654112, 0.5536543629082056,
        5.942610194402321, 904L, 406.6368495860655, 514.373736997535,
        5.615252986792433);
    testPredictionFromDiamond(565.9573823414155, 435.4384676485268,
        1.9664583616419633, 0.0, 965L, 1068.2476094203812, 3.642455773887473,
        8.0, 966L, 566.799178093889, 434.89867147299617, 2.140991286841396);
    testPredictionFromDiamond(522.157066029626, 410.64003572165547,
        1.1738932538775138, 0.0, 1028L, 1179.5337562348575, 3.899773731146958,
        8.0, 1029L, 523.1324435018981, 410.8605777507201, 1.3484261790769467);
    testPredictionFromDiamond(537.2664772509812, 414.3032213513071,
        4.7543620980069505, 0.0, 1107L, -759.1896923882031, -2.57953992831789,
        2.8909307229968526, 1108L, 538.2577040579381, 414.4353932740825,
        4.579829172807518);
    testPredictionFromDiamond(480.9896674022871, 409.2438150667826,
        3.86285927737642, 0.0, 1182L, -1228.2128003939497, 6.140508357870042,
        5.508912948981587, 1183L, 481.7703763669541, 409.86870986792,
        4.037392202575853);
    testPredictionFromDiamond(431.4094441997318, 449.8391749809038,
        4.404884195133313, 7.25, 1232L, 980.7910621383534, 2.040146237154545,
        8.0, 1233L, 423.6162534539231, 448.0319179434459, 4.484514842255554);
    testPredictionFromDiamond(407.76535953877817, 510.23142929543735,
        2.992732151045204, 0.0, 1315L, 834.1037637087842, 3.1476084861828486,
        4.563152514680289, 1316L, 407.7396899360317, 509.2317588139812,
        3.167265076244637);
    testPredictionFromDiamond(573.1261820264818, 559.3129038585228,
        6.015936458986849, 0.0, 1393L, 413.88724021584807, -0.7849854894373101,
        8.0, 1394L, 572.6986311759471, 560.2168951583742, 5.841403533787417);
    testPredictionFromDiamond(513.9231831926933, 592.2386548513097,
        1.388001751751908, 0.0, 77L, 1252.6089604376782, 5.123339492299081,
        4.009998026635312, 78L, 514.9231490654583, 592.2469164071706,
        1.562534676951341);
    testPredictionFromDiamond(498.42687988385273, 498.292898532322,
        0.7270698476049938, -2.625, 124L, -1161.0090500267102,
        4.390431707611745, 4.468834688532397, 125L, 495.66264576194385,
        495.94776853181577, 0.8672416031557885);
    testPredictionFromDiamond(440.73679529289996, 488.71119419176074,
        1.6175158679908055, -8.0, 145L, 968.5738492640066, 3.1339285356459374,
        8.0, 146L, 434.77748882891956, 489.40880903417866, 1.6873290380705788);
    testPredictionFromDiamond(420.0876730869442, 547.0992326702833,
        4.114440887515983, 0.0, 209L, 648.7328852745404, -3.129859630039456,
        8.0, 210L, 419.37149174919705, 546.4013184266526, 3.93990796231655);
    testPredictionFromDiamond(547.7759299870231, 420.95579350353324,
        1.273983282016468, 0.0, 266L, -918.7794049036437, 2.2654026693660896,
        5.209182406755622, 267L, 546.7833968898582, 420.83381788698546,
        1.448516207215901);
    testPredictionFromDiamond(515.9570814823271, 407.6789892898461,
        4.235409213318602, 0.0, 338L, -471.0256244903995, -3.054294643218593,
        0.6661141273795561, 339L, 516.4867537392761, 408.0829141973637,
        4.060876288119169);
    testPredictionFromDiamond(540.8858604213498, 583.1616515022669,
        5.643593480900554, 0.0, 395L, 372.1262479941387, 1.938397651119697,
        2.127540670483615, 396L, 540.4373849736269, 584.055446653736,
        5.818126406099987);
    testPredictionFromDiamond(409.83477694257346, 475.50705683831734,
        4.749164003409722, 0.0, 468L, -937.5473634850624, -4.924152918826328,
        8.0, 469L, 410.8253033189297, 475.64437944294804, 4.574631078210289);
    testPredictionFromDiamond(509.62467814124443, 499.65565704320073,
        4.84065789553428, -4.125, 518L, -1161.5002451897421,
        -0.7322127961075893, 6.895945184319689, 519L, 514.7495249414537,
        499.61603035542515, 4.720121094068421);
    testPredictionFromDiamond(436.9976703531217, 560.1167726817258,
        5.823306337943141, 6.3359375, 554L, -952.2007692762671,
        4.078865576580954, 4.420831382110201, 555L, 435.4366706437166,
        564.161971553369, 5.91490203521089);
    testPredictionFromDiamond(513.584426740925, 408.4499638632079,
        4.747086857851543, 0.0, 630L, -1104.4020791640373, 0.06434649842500573,
        4.5948302005097315, 631L, 514.5795258550806, 408.35108134196923,
        4.811433356276549);
    testPredictionFromDiamond(442.15019213784893, 425.54348664578845,
        4.287602110106037, 0.0, 707L, -878.1803924353449, 0.4809101085970564,
        8.0, 708L, 443.11904170130055, 425.79113664760473, 4.46213503530547);
    testPredictionFromDiamond(587.483671171672, 529.6968422407347,
        1.315454350731885, 0.0, 770L, -374.70772582554565, -4.9863223604710445,
        1.7282213433401103, 771L, 586.5746532790986, 529.2800851520349,
        1.140921425532452);
    testPredictionFromDiamond(516.7512688881588, 499.17856392979667,
        1.741129941275945, 5.75, 819L, -1019.0858059437904, 3.852792186600439,
        6.500038107562738, 820L, 520.3658103409113, 498.1797696134661,
        1.8403955424831224);
    testPredictionFromDiamond(446.5708287876422, 577.0640735208108,
        6.100821463917349, 0.0, 884L, 773.5408065699386, 4.201104545186558,
        8.0, 885L, 446.5629979496154, 578.0640428593287, 6.275354389116782);
    testPredictionFromDiamond(519.4059814074866, 591.3097724904019,
        5.399519968197748, 0.0, 962L, 1296.1188062148872, -0.6103411712817257,
        8.0, 963L, 518.5345081589481, 591.8002155320305, 5.224987042998316);
    testPredictionFromDiamond(577.9666891765115, 549.9753322098259,
        4.589321822141938, 0.0, 1036L, -1125.456327002129, 0.9414529883583,
        8.0, 1037L, 578.9653651062242, 549.9238891596392, 4.76385474734137);
    testPredictionFromDiamond(492.7656649027524, 496.7299889949434,
        4.292288869349215, 4.5, 1069L, -618.4131857481229, 1.822044886744484,
        1.8447101907273336, 1070L, 490.38065150279965, 495.980515124788,
        4.40791693229384);
    testPredictionFromDiamond(584.6498116335308, 460.90562113398136,
        0.16134860671196619, 0.0, 1106L, -366.59595211366644,
        5.682306739805549, 8.0, 1107L, 584.3202100636823, 459.9615010117758,
        0.33588153191139913);
    testPredictionFromDiamond(496.1509554460121, 409.99094956682046,
        2.366720181550963, 0.0, 1160L, -1016.2291162192873, -4.242467320106775,
        8.0, 1161L, 495.33788595536635, 410.5731162125337, 2.1921872563515303);
    testPredictionFromDiamond(423.5768256804717, 447.92320551231023,
        4.6386527953850285, 3.0625, 1226L, 932.5071968986243, 5.72240375377582,
        8.0, 1227L, 419.52180964954204, 448.1696831764166, 4.773097689327717);
    testPredictionFromDiamond(415.6687373043696, 541.4846869632185,
        0.7249339959117315, 0.0, 1295L, 989.8080685483818, -6.1510596969911715,
        8.0, 1296L, 416.19176641386923, 542.3370017821768, 0.5504010707122985);
    testPredictionFromDiamond(511.4042661087256, 506.82168774114393,
        1.1050477449483447, 4.8125, 1357L, 1231.1026849962127,
        1.3329713746921197, 3.183494489711562, 1358L, 514.3901305311828,
        507.9258846514497, 1.2165851924586073);
    testPredictionFromDiamond(408.6904881864358, 502.9012381393122,
        0.40735463538842653, 0.0, 1405L, -361.3222599949028,
        -0.34484673620235906, 7.441755207889556, 1406L, 408.4597641697424,
        501.9282189061411, 0.23282171018899359);
    testPredictionFromDiamond(413.1249832703239, 520.3114562507811,
        5.336812280219053, 6.0, 75L, -870.3641152403759, -3.2113319508103864,
        0.6236659297412892, 76L, 409.67058487879285, 522.3281693569486,
        5.240819171359365);
    testPredictionFromDiamond(558.9554936802606, 428.7490443493299,
        1.9647146276428369, 0.0, 138L, -985.3969942782569, 3.8302879710104847,
        8.0, 139L, 558.1127579471054, 429.28737183707636, 2.13924755284227);
    testPredictionFromDiamond(495.84630647738516, 430.65965267186476,
        3.496500616665729, 8.0, 194L, 981.1571630059223, 5.196510789019571,
        7.82779118580005, 195L, 492.6207343386639, 423.52733192568445,
        3.566313786745502);
    testPredictionFromDiamond(414.3474916162991, 461.40085143298444,
        1.0486436706981612, 0.0, 287L, 1077.929751903142, -3.4170253452033337,
        2.831816363808904, 288L, 415.1144648057923, 462.0425305791304,
        0.8741107454987282);
    testPredictionFromDiamond(415.05109454518885, 539.081326371634,
        4.665643305250427, 0.0, 352L, -532.5658316649346, -0.7636073835223778,
        8.0, 353L, 416.02671216841895, 539.3008035987963, 4.491110380050994);
    testPredictionFromDiamond(498.3354058739215, 594.1362841096834,
        1.1367240742516795, 0.0, 413L, 1103.2056005386144, -6.149329710588556,
        7.243571044893517, 414L, 499.1558521424673, 594.708007749591,
        0.9621911490522466);
    testPredictionFromDiamond(468.3757498073607, 416.4512433426133,
        4.732159350321964, 0.0, 466L, 914.6876452271373, -2.653416877530702,
        8.0, 467L, 467.38770164769664, 416.2970978458108, 4.557626425122531);
    testPredictionFromDiamond(455.86141652760244, 455.6705159035934,
        4.189048589598173, 8.0, 516L, 588.1631889731477, 0.6215208192460073,
        2.194743357491221, 517L, 450.46797281915525, 453.0416825190269,
        4.258861759677946);
    testPredictionFromDiamond(593.307142045615, 494.6559279092501,
        1.1576708625425642, 0.0, 585L, -498.38962604197104, 4.51650038308307,
        8.0, 586L, 592.3354704757937, 494.4195926380757, 1.3322037877419972);
    testPredictionFromDiamond(451.8787741877164, 580.7538425083039,
        5.520740689939175, 0.0, 662L, 930.5995892811809, -2.5212771382030197,
        2.1526745011466035, 663L, 451.07300238249195, 581.3460686457762,
        5.346207764739742);
    testPredictionFromDiamond(525.6926753656172, 589.9042394724551,
        1.5615372050581624, 0.0, 718L, -547.6966031066055, -2.08401605658782,
        8.0, 719L, 524.7095176333881, 589.7214804136966, 1.3870042798587294);
    testPredictionFromDiamond(582.2583230022307, 539.4343043675213,
        5.912706051980536, 0.0, 783L, 436.77276561701, -2.9870096368117127,
        1.997599205612211, 784L, 581.7398944959734, 540.2894253436996,
        5.738173126781104);
    testPredictionFromDiamond(495.6594641356756, 406.75424524536606,
        2.1694486121115872, 0.0, 864L, -1179.3887464967374, 2.896261666474656,
        7.373553227171376, 865L, 494.94377444139997, 407.45266364540123,
        2.34398153731102);
    testPredictionFromDiamond(429.24013663638385, 440.4093417633901,
        6.125859183958399, 0.0, 928L, 1140.934143802143, -1.5759434288559557,
        8.0, 929L, 428.91433543043354, 441.35478006079575, 5.951326258758966);
    testPredictionFromDiamond(427.22059830462956, 451.92982301644037,
        1.359115416536671, -6.671875, 988L, -1172.259764950968,
        -5.143253297067082, 1.892262314133257, 989L, 422.7558410285656,
        450.5541928039708, 1.2719171308608606);
    testPredictionFromDiamond(590.7530422523259, 479.1594217145855,
        3.28160724062663, 0.0, 1042L, 1223.9637800220767, 3.33833513962656,
        5.400653251251412, 1043L, 590.4436560365276, 478.2084852448495,
        3.4561401658260626);
    testPredictionFromDiamond(410.9341564621979, 472.2266239645162,
        2.6443448574828805, 0.0, 1132L, -1243.6505550593242, 5.691903067182974,
        4.8859753033578865, 1133L, 410.61701401238605, 473.17500187786476,
        2.8188777826823133);
    testPredictionFromDiamond(494.54753388324286, 593.0832007461349,
        4.946063285616987, 0.0, 1200L, 1113.746035534088, 0.28594003640094723,
        4.058386920004651, 1201L, 493.6296999199594, 593.480165248129,
        5.120596210816419);
    testPredictionFromDiamond(455.70436415894756, 422.60529446955985,
        6.0124337972002175, 0.0, 1259L, 838.0599277332145, 3.2434771811540717,
        3.0072438738467264, 1260L, 455.6082939709918, 423.6006690317153,
        6.18696672239965);
    testPredictionFromDiamond(406.03469528163487, 501.3196503778159,
        5.302083057045204, 0.0, 1335L, -357.6311608088432, 0.2239971862189174,
        3.0594065122120377, 1336L, 406.7566127533076, 500.627671213322,
        5.4766159822446365);
    testPredictionFromDiamond(446.1250926075123, 576.9441625085419,
        1.919278793850366, 0.0, 1421L, 844.7959833510464, 1.075291403176272,
        8.0, 1422L, 446.991409555582, 576.4446678183929, 2.093811719049799);
    testPredictionFromDiamond(584.649394572782, 460.3872208247577,
        4.118763480309513, 0.0, 127L, 1265.3094558851494, 1.9335708608798292,
        8.0, 128L, 583.7359359963687, 459.98028909930866, 4.293296405508945);
    testPredictionFromDiamond(527.3083619447845, 411.3831098751714,
        3.7583997256212216, 0.0, 202L, 444.60191198032413, -4.802428161326802,
        1.8869738867262922, 203L, 526.8803660447877, 410.4793291995725,
        3.583866800421789);
    testPredictionFromDiamond(500.2454458353661, 519.6328911429991,
        3.2258597294058693, -6.5, 237L, -641.890445722737, -1.0690521854073127,
        7.819211041821509, 238L, 500.20658814659646, 527.1327904809918,
        3.13641160524116);
    testPredictionFromDiamond(420.0158563179727, 450.8875775686545,
        2.7898728364510688, 0.0, 313L, -1013.5797197051154, -4.099391550665314,
        2.755804530141985, 314L, 419.51355967893716, 451.7522729406865,
        2.615339911251636);
    testPredictionFromDiamond(553.9786474845986, 577.2938090679137,
        5.205218053769102, 0.0, 402L, 779.8193914259218, 5.336508252295284,
        8.0, 403L, 553.1931903860306, 577.9127251739484, 5.379750978968535);
    testPredictionFromDiamond(452.08173815560735, 419.6071252073261,
        1.1570509290997888, -1.25, 470L, 397.29893533831137, 4.016353877205988,
        2.0809711316532145, 471L, 452.4445574473245, 419.7019258484519,
        1.3152213925617748);
    testPredictionFromDiamond(593.6319958593039, 507.2323755319109,
        5.071021748109181, 0.0, 541L, -617.1992604052405, -2.112303520287508,
        8.0, 542L, 594.6150972925304, 507.0493138702012, 4.896488822909748);
    testPredictionFromDiamond(568.817461149736, 436.7633692184125,
        1.9452858931834458, 0.0, 606L, 759.4886313793365, -4.528718339109411,
        7.964733729599144, 607L, 569.7975363407219, 436.56474238232556,
        1.7707529679840128);
    testPredictionFromDiamond(497.947038448486, 593.2811900082526,
        2.252565301959532, 0.0, 691L, 1123.63373236387, -0.14983575084494127,
        8.0, 692L, 498.8088665979517, 592.7739896131536, 2.102729551114591);
    testPredictionFromDiamond(417.93072855136126, 454.401229198444,
        6.197060985358474, 0.0, 758L, 992.9207083997691, -4.952369821865766,
        8.0, 759L, 417.673012898107, 455.36745000243644, 6.022528060159042);
    testPredictionFromDiamond(577.4132430786643, 552.997171001051,
        4.004956063070933, 0.0, 848L, 980.0137651414212, 0.5816677857451937,
        5.032650936254202, 849L, 576.5519056768792, 552.4891376554073,
        4.179488988270366);
    testPredictionFromDiamond(590.4952631602985, 476.93443706298535,
        0.14670753443226728, 0.0, 906L, 685.3858619056518, -3.3548554074616916,
        8.0, 907L, 590.4674413600382, 477.9340499617768, 6.255359916412421);
    testPredictionFromDiamond(532.1675882125697, 587.7033353002483,
        3.6308814428404252, 0.0, 986L, -935.0242299918875, 3.982864512952629,
        8.0, 987L, 532.7837197044864, 588.4909786108075, 3.805414368039858);
    testPredictionFromDiamond(414.5223875900926, 462.566288268654,
        5.595250114545958, 0.0, 1047L, 1233.3025954862846, 4.318612424787137,
        0.5411223072212713, 1048L, 414.2566187639322, 463.03764830346154,
        5.76978303974539);
    testPredictionFromDiamond(460.97750382298824, 541.7469893332019,
        5.7354654126199165, 8.0, 1103L, 1173.169027211273, -0.2192739131502197,
        8.0, 1104L, 456.34529895092777, 548.2694641720387, 5.665652242540143);
    testPredictionFromDiamond(532.4559494573159, 588.3707976347338,
        5.499913775377022, 0.0, 1198L, 577.7041642279877, 0.6412237066465476,
        7.3492456931338355, 1199L, 531.8841163512872, 589.1911676115427,
        5.674446700576455);
    testPredictionFromDiamond(432.7646320212658, 441.01927777295225,
        3.398414971850985, 0.0, 1240L, 428.9672222548717, -4.162434096714151,
        8.0, 1241L, 432.68243546780894, 440.0226616349132, 3.223882046651552);
    testPredictionFromDiamond(412.0833309203266, 533.9826365422764,
        0.46543634723481947, 0.0, 1305L, -1140.718960089581, 4.15540861683303,
        2.140967785512337, 1306L, 411.4861601256963, 533.1805224344085,
        0.6399692724342524);
    testPredictionFromDiamond(452.4024674324431, 536.4122320663888,
        2.457688655821865, -8.0, 1340L, -636.0308498267407, -4.080797900682914,
        5.891439515373746, 1341L, 448.29634430312063, 540.7871323906069,
        2.3878754857420916);
    testPredictionFromDiamond(480.069968595909, 590.4635743615144,
        0.3234143322837011, 0.0, 1414L, 1138.80768556542, 0.3759870913689065,
        7.60682779860472, 1415L, 480.54759167465176, 591.3421392109434,
        0.49794725748313406);
    testPredictionFromDiamond(500.0985481407978, 492.1715226541817,
        0.03790852963261404, -4.5, 1447L, -600.6931564157712,
        -4.2000118458525435, 1.508336078198358, 1448L, 500.292651428434,
        489.6790692616929, 6.205465773867576);
    testPredictionFromDiamond(587.462463267658, 517.433634003356,
        6.0052280417642185, 0.0, 75L, 1158.3475301222818, 3.940098880814624,
        3.1360341638254554, 76L, 587.35922321022, 518.4282904719622,
        6.179760966963651);
    testPredictionFromDiamond(569.8703264869953, 556.7950500379424,
        3.4708183287331846, 0.0, 129L, 843.034410273761, 3.0497339098599365,
        6.610775183182084, 130L, 569.387605860476, 555.9192756396337,
        3.6453512539326174);
    testPredictionFromDiamond(407.3668278886548, 512.3312285151719,
        3.663678322859537, 0.0, 210L, 567.0005774107915, 1.8456638358941913,
        8.0, 211L, 406.72520012104883, 511.5642123433496, 3.8382112480589696);
    testPredictionFromDiamond(511.06586796760865, 492.52219804794635,
        5.381913891041875, -4.875, 252L, 418.5331457707251, 0.5365717143234594,
        8.0, 253L, 513.1092505026108, 490.4997705917324, 5.492633215465265);
    testPredictionFromDiamond(499.01504040009866, 593.8389618690626,
        1.5396880045852643, 0.0, 291L, -1095.6216001327548, 3.5191065172694582,
        8.0, 292L, 498.02530808929373, 593.9818952554662, 1.7142209297846973);
    testPredictionFromDiamond(490.18010287952956, 408.2208639567833,
        4.5911874751354675, 0.0, 348L, -787.40871982759, 0.9702155781129047,
        8.0, 349L, 491.17868109639164, 408.1675578144675, 4.7657204003349);
    testPredictionFromDiamond(567.573494721418, 435.3340942052312,
        2.275518761898904, 0.0, 433L, 414.9212083647937, 1.656709068758599,
        7.182488564609023, 434L, 568.211219611682, 434.5638299880059,
        2.4500516870983367);
    testPredictionFromDiamond(498.63224509182277, 406.79360233515445,
        4.16841373344168, 0.0, 488L, 536.1108593788921, 0.8333251342220613,
        7.908062416847703, 489L, 497.6997162261428, 406.43250689808315,
        4.342946658641113);
    testPredictionFromDiamond(562.8903934879929, 569.8587533691045,
        2.747584836528401, 0.0, 580L, 1222.3797366397312, -3.4557406570333518,
        8.0, 581L, 563.4287964120942, 569.016065828364, 2.5730519113289683);
    testPredictionFromDiamond(499.0448744872726, 487.0546850866459,
        3.257566718119504, 5.25, 632L, -605.4844353066392, 0.17424885556283076,
        1.610018611250401, 633L, 498.3299690283664, 483.88428918316225,
        3.36337730402166);
    testPredictionFromDiamond(554.516133772141, 573.2975028697914,
        1.8858501081470052, 0.0, 676L, 312.2794931450102, 2.667590432467371,
        8.0, 677L, 555.3986610619855, 572.8272416841938, 2.060383033346438);
    testPredictionFromDiamond(446.9812190298498, 577.8952348415388,
        3.444671199490977, 0.0, 750L, -618.9181124764766, -3.102478066236144,
        8.0, 751L, 447.1094109287844, 578.8869842237153, 3.2701382742915444);
    testPredictionFromDiamond(502.841842314714, 486.79784880162856,
        3.0377007916973913, 4.875, 792L, 667.7717038027083, 1.472680738451765,
        1.8821233165324216, 793L, 502.82221351243516, 483.9229158093449,
        3.1484201161207817);
    testPredictionFromDiamond(564.372737198289, 567.9673558435518,
        4.419251156300094, -2.31640625, 825L, 751.5898208892156,
        2.726353829693833, 4.567325843855878, 826L, 564.6856411213346,
        568.0143031542494, 4.563462394592321);
    testPredictionFromDiamond(592.1175066351127, 481.5967341712392,
        2.4258318218061348, 0.0, 920L, -364.45726646462936, 3.969613768936643,
        8.0, 921L, 591.6023178451825, 482.4538108951853, 2.6003647470055675);
    testPredictionFromDiamond(568.013663620689, 436.79300327989836,
        0.08477535120552382, 0.0, 995L, 977.0809919617042, 6.114753797794139,
        8.0, 996L, 568.2700756363805, 437.7595708555024, 0.2593082764049568);
    testPredictionFromDiamond(512.4634939497749, 409.5485290184569,
        0.3962622940163646, -0.75, 1036L, 1119.233880907355, 4.053019721489893,
        5.773547521506076, 1037L, 512.796002912863, 410.0777386078127,
        0.5609777421733294);
    testPredictionFromDiamond(540.1094504431171, 583.2779741565084,
        1.8202541235079206, 0.0, 1088L, -1194.0926188269245, 5.003876233698643,
        8.0, 1089L, 539.1979960279149, 583.6893752369742, 1.9947870487073536);
    testPredictionFromDiamond(526.559268670221, 409.763681380619,
        4.008186154579913, 0.0, 1174L, -895.8074155723143, 1.8654295961645122,
        3.5515650089454747, 1175L, 527.4222425699744, 410.26892988219447,
        4.182719079779345);
    testPredictionFromDiamond(591.7518793438128, 478.5802175628299,
        0.8789596060058908, 0.0, 1268L, -938.4390834150114, 4.3608581918288465,
        8.0, 1269L, 590.882723629651, 478.08567904608947, 1.0534925312053238);
    testPredictionFromDiamond(538.4878161605693, 415.0682034514205,
        3.5396570831458654, 0.0, 1337L, -439.707717918688, 3.1511515467269966,
        5.6865604341678155, 1338L, 539.0296331021003, 415.9086999724544,
        3.714190008345298);
    testPredictionFromDiamond(498.8511838685558, 458.36056303495474,
        3.375582008737492, 8.0, 1379L, 511.4667749277827, -2.501955454506606,
        8.0, 1380L, 497.543666675153, 450.46813636193735, 3.305768838657719);
    testPredictionFromDiamond(590.1558068395855, 527.4690924401807,
        2.661067316291308, 0.0, 83L, 307.1009671616326, -2.4351621103625085,
        5.824487056451464, 84L, 590.7650122868342, 526.6760800045641,
        2.486534391091875);
    testPredictionFromDiamond(407.67259558350054, 502.52591151894285,
        4.50091063481343, 0.0, 146L, 381.0891361202123, 0.9965518749126048,
        5.261875039892958, 147L, 406.673277987917, 502.48897450285943,
        4.675443560012862);
    testPredictionFromDiamond(564.0647066286944, 432.08367234470154,
        0.17484370032174162, 0.0, 195L, -1072.6390132517893,
        -1.0577908674442114, 2.5722912746624544, 196L, 564.064395853577,
        431.0836723929921, 3.107751223086763E-4);
    testPredictionFromDiamond(495.46034926042347, 406.94746834915185,
        4.096362756625154, 0.0, 267L, -927.7247726186761, 1.2452384559186669,
        1.3615631271841369, 268L, 496.3644638603189, 407.3747584031619,
        4.2708956818245865);
    testPredictionFromDiamond(437.5842298172882, 474.9810454349512,
        4.620343462088658, 8.0, 322L, -881.0895235205054, -2.701959965973432,
        4.085085668776195, 323L, 431.66265308518945, 474.0141281655498,
        4.550530292008885);
    testPredictionFromDiamond(588.9307222610668, 474.7943036686545,
        5.639747675465348, -0.5, 372L, 865.4353530940858, 4.732011538983814,
        8.0, 373L, 588.5874185300343, 475.46111889662933, 5.807735615969802);
    testPredictionFromDiamond(560.5673246841446, 429.65236829651127,
        0.8746505852780904, 0.0, 433L, 1178.3613656214588, 3.4255503806162295,
        7.368916443642974, 434L, 561.4343413591005, 430.1506474204454,
        1.0491835104775233);
    testPredictionFromDiamond(540.9735750519812, 415.7491243855065,
        5.302080822336193, 0.0, 508L, -651.4716149394318, -4.659787126042418,
        7.694991780052586, 509L, 541.8886272872866, 415.34578903289923,
        5.12754789713676);
    testPredictionFromDiamond(465.55406398062684, 413.2524300612403,
        3.9126044843397945, 0.0, 577L, -670.7772870263309, 3.8736253262594307,
        8.0, 578L, 466.3648798810559, 413.83773133034146, 4.087137409539228);
    testPredictionFromDiamond(413.0973570375535, 465.78903676970015,
        1.7375208531134807, 0.0, 648L, -832.7590395070024, -0.7035079841586711,
        2.840404455690776, 649L, 412.0973875229451, 465.78122845016685,
        1.5629879279140477);
    testPredictionFromDiamond(584.8083494786385, 461.0160233023119,
        0.35996491659577057, 0.0, 728L, -564.0670688248064, 1.5390389525476866,
        4.575509731529378, 729L, 584.2989404944237, 460.15549876065074,
        0.5344978417952035);
    testPredictionFromDiamond(413.30651173381654, 469.08951385496454,
        2.150924869945529, 0.0, 785L, -381.12277575620675, 4.577259077879397,
        8.0, 786L, 412.5780082404659, 469.77455594139127, 2.3254577951449615);
    testPredictionFromDiamond(412.0052503497631, 531.4830789665122,
        4.616230450051386, 0.0, 849L, 1068.6893674703022, 0.5947476023909442,
        8.0, 850L, 411.0083200508508, 531.5613731496328, 4.790763375250819);
    testPredictionFromDiamond(538.4647450668616, 415.02034753177793,
        3.5275891211869586, 0.0, 925L, 1105.9924682686787, -4.360378549881658,
        1.992126045607526, 926L, 538.2548540010724, 414.0426227542961,
        3.353056195987526);
    testPredictionFromDiamond(533.9602813035165, 587.0160875760237,
        6.23087650624746, 0.0, 994L, 1105.965951319014, -5.188926169067532,
        8.0, 995L, 533.7353800170031, 587.9904691292792, 6.0563435810480275);
    testPredictionFromDiamond(413.7191117238094, 464.4175703927294,
        5.925028080286381, 0.0, 1075L, -343.68693477301747, 1.8817857443289743,
        8.0, 1076L, 413.90170585996526, 463.4343820173702, 6.099561005485814);
    testPredictionFromDiamond(490.4569449853338, 492.8743155430469,
        1.0000026788479508, -5.0, 1117L, 1243.189750205725, -3.202293649037993,
        0.7080683889485963, 1118L, 488.1239943056832, 490.9882240483633,
        0.8909196005983052);
    testPredictionFromDiamond(407.31982346845564, 505.34916189007345,
        0.05081998472485605, 0.0, 1170L, -1184.0033483180287,
        -0.612766478091519, 8.0, 1171L, 407.4432210814715, 504.3568045808839,
        6.1594723667050095);
    testPredictionFromDiamond(460.95036799031124, 415.2983119168766,
        1.861575525957927, 0.0, 1241L, -654.3834370477059, -2.3597690427585034,
        8.0, 1242L, 459.95711698323987, 415.4142965578929, 1.687042600758494);
    testPredictionFromDiamond(418.1054718014967, 455.3905178076602,
        1.6862973078399417, -1.0625, 1310L, 1191.767260838311,
        1.9437910760251462, 1.1710248399202752, 1311L, 418.5564650248545,
        455.26272236570173, 1.846922140562545);
    testPredictionFromDiamond(416.1756737947586, 518.1778812692302,
        2.155183129437998, -6.875, 1358L, -1269.6745977577107,
        -4.916686128122746, 5.73338509402143, 1359L, 411.14373566455635,
        520.9258447497306, 2.070643743794523);
    testPredictionFromDiamond(588.3960237429344, 526.7898589326778,
        2.809707525978234, 0.0, 93L, -724.4461876194159, -0.023957536186856032,
        7.260554088822643, 94L, 588.0476433804491, 527.7272121868114,
        2.785749989791378);
    testPredictionFromDiamond(551.8987092774622, 578.6528056130409,
        2.2103934607489704, 0.0, 200L, -661.5607319744078, -1.6440152667995909,
        2.923282723690552, 201L, 551.0049165063676, 579.1012858047317,
        2.0358605355495376);
    testPredictionFromDiamond(452.9404992321215, 579.6603621015287,
        0.8140569382932732, 0.0, 294L, -857.1483368190919, 1.4999536978540648,
        8.0, 295L, 452.10524781208056, 579.110493876115, 0.9885898634927062);
    testPredictionFromDiamond(411.8843515053276, 533.2940847768336,
        5.049714526522221, 0.0, 383L, -824.0966683671331, -2.7993523000266607,
        1.3177156133839028, 384L, 412.87113002436405, 533.1320102434602,
        4.875181601322788);
    testPredictionFromDiamond(474.83456489775466, 531.8205903413171,
        5.775468686856429, 8.0, 427L, 300.54329197410266, -5.549560508615018,
        8.0, 428L, 470.4669166671522, 538.5231009853754, 5.705655516776655);
    testPredictionFromDiamond(509.8086615508799, 576.3696613545858,
        0.4268422416545882, 8.0, 485L, -1275.4977863531249, 6.0669689170401195,
        7.920947961296548, 486L, 512.6675878123702, 581.6447481435742,
        0.49665541173436134);
    testPredictionFromDiamond(501.46745047645095, 503.74343031012415,
        0.4030814748908838, 2.46875, 540L, 1258.644441187551,
        4.393128137143778, 7.178580830185616, 541L, 503.2665986784307,
        506.70911611779377, 0.5452985381588593);
    testPredictionFromDiamond(405.85306656404674, 498.41506752471724,
        5.04674255375846, 0.0, 600L, -1289.8119845828917, 3.03512941990922,
        6.485973848586673, 601L, 406.72635411658956, 497.9278623825299,
        5.221275478957892);
    testPredictionFromDiamond(462.00260712733586, 538.3180508838152,
        5.744816094240959, 8.0, 650L, -314.7267371379516, -5.426473381223424,
        8.0, 651L, 458.57434687654734, 543.2421783855015, 5.675002924161186);
    testPredictionFromDiamond(504.99776707751516, 563.5035586896782,
        0.32420288594351954, 8.0, 703L, 528.101289836591, 1.4127292813787449,
        2.2209031310308367, 704L, 507.3011660321326, 569.0438071729023,
        0.3940160560232927);
    testPredictionFromDiamond(416.2983155063739, 459.3255890974566,
        1.6382739440646206, -3.25, 757L, -477.90820970485765,
        -1.0674556365085497, 8.0, 758L, 412.0571565092921, 459.05159938693436,
        1.5062834193825494);
    testPredictionFromDiamond(454.22376322492124, 508.45145673105236,
        1.9447797873581272, -8.0, 814L, -448.34644043718095, 4.536461165314691,
        8.0, 815L, 446.99873913244477, 511.88642789004837, 2.0145929574379005);
    testPredictionFromDiamond(547.1595343175067, 419.37971429013237,
        4.838283129190457, 0.0, 880L, 361.0898578432606, 3.210638962799562,
        8.0, 881L, 546.2043241244985, 419.67564246921177, 5.01281605438989);
    testPredictionFromDiamond(516.6945227573062, 591.1957147239555,
        5.353562320395075, 0.0, 954L, -788.4196961676705, 5.778901557198536,
        3.3371758358550503, 955L, 517.3798770124739, 590.4675049019099,
        5.528095245594508);
    testPredictionFromDiamond(578.3747188197356, 547.4702880694008,
        6.068570976020917, 0.0, 1019L, 404.80403425663496, 5.8971842412936315,
        2.0679159701970105, 1020L, 578.3346481448384, 548.4694849173809,
        6.2431039012203495);
    testPredictionFromDiamond(412.730015150535, 533.5132624487912,
        1.111558510689733, 0.0, 1104L, -486.22408055553086, -4.236882899523634,
        6.008232175992605, 1105L, 411.9242148938903, 532.9210750237379,
        0.9370255854903);
    testPredictionFromDiamond(511.47638684489834, 406.7420884079857,
        5.650930931392715, 0.0, 1171L, -1013.0846893922919, -4.468459077131878,
        5.371036248318817, 1172L, 512.1984551343053, 406.0502666206496,
        5.476398006193282);
    testPredictionFromDiamond(439.4259809133836, 428.7588370250708,
        5.325498390833904, 0.0, 1246L, 942.3104242209691, -6.238531543769988,
        1.5204169219206525, 1247L, 438.52062383594887, 429.18348813167336,
        5.150965465634472);
    testPredictionFromDiamond(407.38457978644806, 496.36942628921577,
        2.7831420006266416, 0.0, 1325L, -1013.5038157595211, 5.138425745414159,
        1.1518832757344408, 1326L, 407.2016971650559, 497.3525610443703,
        2.9576749258260744);
    testPredictionFromDiamond(506.0476318115842, 411.4769044078593,
        3.4431976496325025, 6.1875, 1389L, -620.0992798606412,
        -4.018355480603176, 7.4497297680356045, 1390L, 505.1826272634869,
        407.3797195960927, 3.3496589100334315);
    testPredictionFromDiamond(499.035109973988, 490.17945314568027,
        3.2537700607760933, 5.5, 1434L, 1205.6885393692323, 5.787260756189928,
        2.5660415284064277, 1435L, 498.28936682685253, 486.7598234641942,
        3.35630815433076);
    testPredictionFromDiamond(410.5844438641734, 476.4566541007714,
        3.430462441738031, 0.0, 100L, -323.0203386212956, 2.4804961294561583,
        8.0, 101L, 411.03143840493385, 477.3511907856147, 3.6049953669374637);
    testPredictionFromDiamond(580.2491247630009, 453.75704546559655,
        5.794155233018328, -0.5, 148L, 669.823096695359, 6.17864600451597, 8.0,
        149L, 580.0124580481522, 454.46872577731153, 5.962143173522782);
    testPredictionFromDiamond(525.0374836797286, 410.15090063390943,
        4.7612069046083905, 0.0, 241L, 664.5751877263065, 1.6431908187535438,
        8.0, 242L, 524.0623229624128, 410.372399111115, 4.935739829807823);
    testPredictionFromDiamond(543.6119862653048, 583.1459157539028,
        2.2510444712752227, 0.0, 306L, -1032.3857365650388, -4.886063908696316,
        8.0, 307L, 542.7371580431014, 583.6303490120886, 2.07651154607579);
    testPredictionFromDiamond(505.56621416861276, 488.19556458997994,
        2.712628299090947, 7.0, 348L, 356.8742761677208, -2.4124376238583567,
        8.0, 349L, 509.4846640867938, 481.2209140439879, 2.6297251596212163);
    testPredictionFromDiamond(491.8651571768047, 408.49672766442444,
        5.2456325449683945, 0.0, 393L, 779.130910580624, 5.219178073325645,
        1.6275222074840823, 394L, 491.10534781762783, 409.1468736001244,
        5.420165470167827);
    testPredictionFromDiamond(405.8188327398976, 496.4593791483714,
        6.089366905409827, 0.0, 483L, -306.00929198363576, -3.289843891545321,
        8.0, 484L, 406.1789105781508, 495.526456884515, 5.914833980210394);
    testPredictionFromDiamond(472.87876636706886, 588.6653619313422,
        3.7769141708915943, 0.0, 565L, 857.8077625319072, 3.8501927439965424,
        0.9080052981066934, 566L, 472.22120091128227, 588.0391979809698,
        3.951447096091027);
    testPredictionFromDiamond(583.3265977395213, 543.9829543188823,
        1.666856775131727, 0.0, 644L, -907.0147838519081, 1.4231565688009242,
        2.364569104153646, 645L, 582.36298528419, 544.2502575847255,
        1.84138970033116);
    testPredictionFromDiamond(589.9980078144607, 475.40930657490213,
        4.591195037762268, 0.0, 724L, -1038.3972508310223, -5.690470267968543,
        8.0, 725L, 590.9545983746019, 475.7007418168494, 4.416662112562835);
    testPredictionFromDiamond(455.30494196804045, 582.0279629142442,
        1.7917161595129272, 0.0, 791L, -1058.1505617940866,
        -1.9790507529005241, 5.400079605036375, 792L, 454.3060176477319,
        582.074333188085, 1.6171832343134942);
    testPredictionFromDiamond(447.31963696025656, 422.26666073733975,
        2.1148541159084098, 0.0, 870L, 841.8316342092149, 4.619855256139594,
        0.9790766886054656, 871L, 448.056621510918, 421.62211055755773,
        2.2893870411078425);
    testPredictionFromDiamond(500.60415221571014, 503.7632205981567,
        3.312994939167162, -2.40625, 921L, -1137.9703557264763,
        -4.336976915726239, 6.542225859183253, 922L, 500.7007646890011,
        507.1681001984516, 3.1699597528123142);
    testPredictionFromDiamond(569.6498850212505, 561.9668468474221,
        1.21309600723718, 0.0, 965L, -512.6696942621347, -5.828547754113733,
        5.735780367625363, 966L, 568.7882090810544, 561.4593879090957,
        1.038563082037747);
    testPredictionFromDiamond(588.5338208951181, 467.7622339169332,
        2.450064364040491, 2.125, 1030L, -460.4715259776657,
        -1.0806832067631396, 6.770853750870327, 1031L, 588.626754719678,
        467.67863783895905, 2.3033476237947177);
    testPredictionFromDiamond(448.3606922599606, 576.8766590502573,
        0.10887376180990499, 0.0, 1098L, -552.0216366505699,
        0.2458121682662613, 2.76172019740231, 1099L, 448.08106420627576,
        575.9165506440904, 0.2834066870093379);
    testPredictionFromDiamond(524.1743867745005, 590.7849950373028,
        5.102244278852406, 0.0, 1198L, 686.1166825166099, -4.208193189167776,
        8.0, 1199L, 523.197479208566, 590.9986574055854, 4.927711353652973);
    testPredictionFromDiamond(467.5326870789396, 588.4918403361421,
        0.7048552653357189, 0.0, 1275L, -863.9908505416794, 3.884714201359996,
        4.213864803706425, 1276L, 466.76233815936484, 587.8542177658782,
        0.8793881905351518);
    testPredictionFromDiamond(414.9348022978954, 460.86503504339674,
        3.5369007766950045, 0.0, 1353L, 674.2694822659621, -2.0049083817255964,
        7.264325674398774, 1354L, 414.71581622680185, 459.8893070584199,
        3.3623678514955717);
    testPredictionFromDiamond(576.5029693524459, 445.18759579491314,
        3.7339466740801073, 0.0, 1432L, -718.9572124588436, 0.8097155150410593,
        4.427075212807396, 1433L, 577.1968663266208, 445.90767008915714,
        3.90847959927954);
    testPredictionFromDiamond(408.14965356271034, 498.4668316740389,
        1.0039490641447641, 0.0, 96L, -715.1327154202667, 5.182100846479505,
        8.0, 97L, 407.22562686333333, 498.08450372732494, 1.1784819893441971);
    testPredictionFromDiamond(421.3241413121859, 547.042901259855,
        4.906217620785003, 0.0, 149L, -687.1376496178166, -3.0342673454354046,
        8.0, 150L, 422.3239551556493, 547.0236067420101, 4.73168469558557);
    testPredictionFromDiamond(547.6817377021036, 424.51202721735126,
        4.546473542176016, 0.0, 204L, 1134.995805572507, 5.8548902772800435,
        8.0, 205L, 546.6817748324149, 424.5206445976851, 4.721006467375449);
    testPredictionFromDiamond(511.55288470731756, 591.840567916507,
        3.104055233402852, 0.0, 266L, -1198.659232634883, -4.059710337688908,
        4.694836007719089, 267L, 511.34240039388976, 592.8181651514667,
        2.929522308203419);
    testPredictionFromDiamond(491.16688924536726, 482.21145228452843,
        3.713403702600872, 6.5, 301L, -1187.250870933244, 6.191346134588899,
        8.0, 302L, 488.4033892832893, 478.6599641514221, 3.8028518267655818);
    testPredictionFromDiamond(414.2911548099596, 464.9121367857932,
        1.889336844019615, 0.0, 370L, 519.3778634823274, 4.684962784150869,
        3.109178945019645, 371L, 415.1720370620002, 464.43880132542716,
        2.063869769219048);
    testPredictionFromDiamond(421.40061694230883, 532.7782719212157,
        2.326249929212697, -7.4375, 442L, 1277.4873436261964,
        -3.0225083744035306, 3.0165719228315524, 443L, 417.1666816263523,
        536.1900453589304, 2.2490736513510727);
    testPredictionFromDiamond(497.1504521926645, 502.2217332155399,
        2.2650959762830722, -2.359375, 500L, -867.7814945694893,
        6.233967006199016, 8.0, 501L, 494.9030669047203, 504.71866328227327,
        2.4087447549530743);
    testPredictionFromDiamond(509.46651818516557, 593.1412699908784,
        2.099249818714607, 0.0, 564L, 764.8427466796247, 1.3504519852432582,
        8.0, 565L, 510.22943306188864, 592.4947710420203, 2.27378274391404);
    testPredictionFromDiamond(589.9232186313044, 524.9156799589317,
        5.98475672906717, 0.0, 621L, -624.6262025269388, 3.4104790524810245,
        8.0, 622L, 590.0467975582833, 523.9233452125851, 6.159289654266603);
    testPredictionFromDiamond(434.4581060613681, 461.37708320553463,
        1.3790172771721836, -8.0, 698L, 839.2223747163382, 5.3422003249123975,
        0.7052062470705179, 699L, 428.5026777946779, 460.64710090416884,
        1.4488304472519569);
    testPredictionFromDiamond(419.41079785144103, 548.3139919220304,
        5.488374991085485, 0.0, 792L, 1252.8155370489499, 3.2292591270915736,
        6.742218661305378, 793L, 418.8295369507875, 549.1277091735197,
        5.662907916284918);
    testPredictionFromDiamond(481.8460439589744, 528.7362736692163,
        5.857162662015945, 8.0, 834L, 339.9896313790228, -5.706307688337737,
        8.0, 835L, 478.0399081468045, 535.7728445797748, 5.787349491936172);
    testPredictionFromDiamond(527.5205491086873, 589.3497402238178,
        1.672991688498059, 0.0, 892L, -824.9345339704182, -3.967568350047042,
        6.773011279931716, 893L, 526.5231643295413, 589.2774657308909,
        1.498458763298626);
    testPredictionFromDiamond(415.5731676903009, 540.9737057599386,
        3.167899035213355, 0.0, 956L, -1166.408592846482, 2.3931204521671035,
        8.0, 957L, 415.7726595275903, 541.9536052480776, 3.342431960412788);
    testPredictionFromDiamond(482.8714419802808, 591.1286758492786,
        1.076304154051957, 0.0, 1035L, -792.7950005968768, 3.872112702499832,
        3.0780605846159816, 1036L, 481.9221937436265, 590.8141479725988,
        1.2508370792513899);
    testPredictionFromDiamond(589.8546846929647, 491.469143982128,
        2.09362088529103, 4.5, 1097L, 886.3862412267262, 4.554647323681236,
        8.0, 1098L, 594.2712885586836, 488.19139928595104, 2.209248948235654);
    testPredictionFromDiamond(444.5314137482005, 574.8250764935157,
        5.449616343284046, 0.0, 1160L, 508.4157751314933, 3.7602312969293674,
        4.518331622581123, 1161L, 443.91905870291134, 575.6156593788028,
        5.624149268483479);
    testPredictionFromDiamond(505.02088968682233, 487.66300104130374,
        5.957247378338784, -5.375, 1204L, 597.1297198216015,
        2.7137998497828626, 8.0, 1205L, 505.7632221684654, 484.37065119860813,
        6.061421718067195);
    testPredictionFromDiamond(540.3859960062947, 584.2716348379637,
        2.4845136753629227, 0.0, 1260L, -1054.189893072366, 5.616404731727567,
        8.0, 1261L, 539.9219599937993, 585.1574511728252, 2.6590466005623554);
    testPredictionFromDiamond(590.4190291035534, 524.0121676497912,
        2.245156286758336, 0.0, 1332L, 828.06369868363, -4.540557573034632,
        8.0, 1333L, 591.2966945762674, 523.5328939096327, 2.070623361558903);
    testPredictionFromDiamond(525.7225962493998, 496.6930387528432,
        1.8041340676021091, 7.25, 1373L, -667.5548567282378,
        -2.046285059110266, 8.0, 1374L, 530.9107003450882, 495.88925029043526,
        1.724503420479868);
    testPredictionFromDiamond(458.3288580957422, 584.2769072879089,
        4.598809825158479, 0.0, 1443L, 943.8823635832806, -4.11037461420781,
        8.0, 1444L, 457.3700760734523, 583.9927646587, 4.424276899959046);
  }

  private void testPredictionFromDiamond(double startX, double startY,
      double startHeading, double startVelocity, long startTime,
      double distance, double turn, double maxVelocity, long endTime,
      double endX, double endY, double endHeading) {
    when(diamond.getX()).thenReturn(startX);
    when(diamond.getY()).thenReturn(startY);
    when(diamond.getHeadingRadians()).thenReturn(startHeading);
    when(diamond.getVelocity()).thenReturn(startVelocity);
    when(diamond.getTime()).thenReturn(startTime);
    when(diamond.getDistanceRemaining()).thenReturn(distance);
    when(diamond.getTurnRemainingRadians()).thenReturn(turn);
    when(diamond.getMaxVelocity()).thenReturn(maxVelocity);

    MovementPredictor predictor = newPredictor();
    RobotState endState = predictor.nextRobotState(diamond);
    assertEquals(endX, endState.location.x, 0.01);
    assertEquals(endY, endState.location.y, 0.01);
    assertEquals(Utils.normalAbsoluteAngle(endHeading),
        Utils.normalAbsoluteAngle(endState.heading), 0.01);
  }

  @Test
  public void testStraightEscapeAngleTheoreticalMax() {
    MovementPredictor predictor = newPredictor();
    RobotState startState = RobotState.newBuilder()
        .setLocation(newLocation(500, 420))
        .setHeading(Math.PI / 2)
        .setVelocity(8.0)
        .setTime(1L)
        .build();
    MaxEscapeTarget meaTarget = predictor.straightPreciseEscapeAngle(1, 0,
        newLocation(500, 200), 1L, 11.0, startState, 0);
    assertFalse(meaTarget.hitWall);
    assertTrue(meaTarget.time > 20 && meaTarget.time < 35);
    assertEquals((meaTarget.time - startState.time) * 8.0,
        meaTarget.location.distance(startState.location), 0.01);
    assertEquals(Math.asin(8.0 / 11.0), meaTarget.angle, 0.05);
  }

  @Test
  public void testStraightEscapeAngleHitWall() {
    MovementPredictor predictor = newPredictor();
    RobotState startState = RobotState.newBuilder()
        .setLocation(newLocation(800, 420))
        .setHeading(Math.PI / 2)
        .setVelocity(8.0)
        .setTime(1L)
        .build();
    MaxEscapeTarget meaTarget = predictor.straightPreciseEscapeAngle(1, 0,
        newLocation(800, 200), 1L, 11.0, startState, 0);
    assertTrue(meaTarget.hitWall);
    assertTrue(meaTarget.angle > 0);
  }

  @Test
  public void testStraightEscapeAngleHitWallReverse() {
    MovementPredictor predictor = newPredictor();
    RobotState startState = RobotState.newBuilder()
        .setLocation(newLocation(800, 650))
        .setHeading(3 * Math.PI / 2)
        .setVelocity(8.0)
        .setTime(1L)
        .build();
    MaxEscapeTarget meaTarget = predictor.straightPreciseEscapeAngle(1, 0,
        newLocation(800, 200), 1L, 11.0, startState, 0);
    assertTrue(meaTarget.hitWall);
    assertTrue(meaTarget.angle > 0);
  }

  @Test
  public void testStraightEscapeAngleHitWallCounterClockwise() {
    MovementPredictor predictor = newPredictor();
    RobotState startState = RobotState.newBuilder()
        .setLocation(newLocation(200, 420))
        .setHeading(3 * Math.PI / 2)
        .setVelocity(8.0)
        .setTime(1L)
        .build();
    MaxEscapeTarget meaTarget = predictor.straightPreciseEscapeAngle(-1, 0,
        newLocation(200, 200), 1L, 11.0, startState, 0);
    assertTrue(meaTarget.hitWall);
    assertTrue(meaTarget.angle > 0);
  }

  @Test
  public void testStraightEscapeAngleHitWallReverseToCounterClockwise() {
    MovementPredictor predictor = newPredictor();
    RobotState startState = RobotState.newBuilder()
        .setLocation(newLocation(200, 650))
        .setHeading(Math.PI / 2)
        .setVelocity(8.0)
        .setTime(1L)
        .build();
    MaxEscapeTarget meaTarget = predictor.straightPreciseEscapeAngle(-1, 0,
        newLocation(200, 200), 1L, 11.0, startState, 0);
    assertTrue(meaTarget.hitWall);
    assertTrue(meaTarget.angle > 0);
  }

  @Test
  public void testStraightEscapeAngleNegativeMea() {
    MovementPredictor predictor = newPredictor();
    RobotState startState = RobotState.newBuilder()
        .setLocation(newLocation(500, 420))
        .setHeading(Math.PI / 2)
        .setVelocity(8.0)
        .setTime(18L)
        .build();
    MaxEscapeTarget meaTarget = predictor.straightPreciseEscapeAngle(-1, 0,
        newLocation(500, 200), 1L, 11.0, startState, 0);
    assertFalse(meaTarget.hitWall);
    assertTrue(meaTarget.angle < 0);
  }

  @Test
  public void testStraightEscapeAngleFromStop() {
    MovementPredictor predictor = newPredictor();
    RobotState startState = RobotState.newBuilder()
        .setLocation(newLocation(500, 420))
        .setHeading(Math.PI / 2)
        .setVelocity(0.0)
        .setTime(1L)
        .build();
    MaxEscapeTarget meaTarget = predictor.straightPreciseEscapeAngle(1, 0,
        newLocation(500, 200), 1L, 11.0, startState, 0);
    assertFalse(meaTarget.hitWall);
    assertTrue(Math.asin(8.0 / 11.0) - meaTarget.angle > 0.1);
  }

  @Test
  public void testStraightEscapeAngleMidair() {
    MovementPredictor predictor = newPredictor();

    RobotState startState = RobotState.newBuilder()
        .setLocation(newLocation(500, 420))
        .setHeading(Math.PI / 2)
        .setVelocity(8.0)
        .setTime(1L)
        .build();
    MaxEscapeTarget meaTarget = predictor.straightPreciseEscapeAngle(1, 0,
        newLocation(500, 200), 1L, 11.0, startState, 0);

    RobotState startState2 = RobotState.newBuilder()
        .setLocation(newLocation(524, 420))
        .setHeading(Math.PI / 2)
        .setVelocity(8.0)
        .setTime(4L)
        .build();
    MaxEscapeTarget meaTarget2 = predictor.straightPreciseEscapeAngle(1, 0,
        newLocation(500, 200), 1L, 11.0, startState2, 0);

    assertEquals(meaTarget.location.x, meaTarget2.location.x, 0.0001);
    assertEquals(meaTarget.location.y, meaTarget2.location.y, 0.0001);
  }

  @Test
  public void testStraightEscapeAngleWithAttackAngle() {
    MovementPredictor predictor = newPredictor();

    RobotState startState = RobotState.newBuilder()
        .setLocation(newLocation(500, 420))
        .setHeading(Math.PI / 2)
        .setVelocity(8.0)
        .setTime(1L)
        .build();
    MaxEscapeTarget meaTarget = predictor.straightPreciseEscapeAngle(1, 0,
        newLocation(500, 200), 1L, 11.0, startState, 0);

    RobotState startState2 = RobotState.newBuilder()
        .setLocation(newLocation(500, 420))
        .setHeading(Math.PI)
        .setVelocity(8.0)
        .setTime(1L)
        .build();
    MaxEscapeTarget meaTarget2 = predictor.straightPreciseEscapeAngle(1, 0,
        newLocation(500, 200), 1L, 11.0, startState2, -0.8);

    assertTrue(meaTarget2.location.y > meaTarget.location.y + 5);
    assertTrue(meaTarget2.time > meaTarget.time);
    assertTrue(meaTarget.angle > meaTarget2.angle + 0.05);
  }

  @Test
  public void testSmoothingEscapeAngleTheoreticalMax() {
    MovementPredictor predictor = newPredictor();
    RobotState startState = RobotState.newBuilder()
        .setLocation(newLocation(500, 420))
        .setHeading(Math.PI / 2)
        .setVelocity(8.0)
        .setTime(1L)
        .build();
    MaxEscapeTarget meaTarget = predictor.smoothingPreciseEscapeAngle(1, 0,
        newLocation(500, 200), 1L, 11.0, startState, 0, 120, 1);
    assertTrue(meaTarget.time > 20 && meaTarget.time < 35);
    assertEquals((meaTarget.time - startState.time) * 8.0,
        meaTarget.location.distance(startState.location), 0.01);
    assertEquals(Math.asin(8.0 / 11.0), meaTarget.angle, 0.05);
  }

  @Test
  public void testSmoothingEscapeAngleLessThanStraight() {
    MovementPredictor predictor = newPredictor();
    RobotState startState = RobotState.newBuilder()
        .setLocation(newLocation(750, 420))
        .setHeading(Math.PI / 2)
        .setVelocity(8.0)
        .setTime(1L)
        .build();
    MaxEscapeTarget smoothingTarget = predictor.smoothingPreciseEscapeAngle(1, 0,
        newLocation(750, 200), 1L, 11.0, startState, 0, 120, 1);
    MaxEscapeTarget straightTarget = predictor.straightPreciseEscapeAngle(1, 0,
        newLocation(750, 200), 1L, 11.0, startState, 0);
    assertTrue(straightTarget.angle > smoothingTarget.angle);
    assertTrue(straightTarget.location.y > smoothingTarget.location.y + 2);
  }

  @Test
  public void testSmoothingEscapeAngleGreaterThanStraight() {
    MovementPredictor predictor = newPredictor();
    RobotState startState = RobotState.newBuilder()
        .setLocation(newLocation(880, 420))
        .setHeading(Math.PI / 2)
        .setVelocity(8.0)
        .setTime(1L)
        .build();
    MaxEscapeTarget smoothingTarget = predictor.smoothingPreciseEscapeAngle(1, 0,
        newLocation(880, 200), 1L, 11.0, startState, 0, 120, 1);
    MaxEscapeTarget straightTarget = predictor.straightPreciseEscapeAngle(1, 0,
        newLocation(880, 200), 1L, 11.0, startState, 0);
    assertTrue(straightTarget.angle < smoothingTarget.angle);
    assertTrue(straightTarget.location.y > smoothingTarget.location.y + 25);
  }

  @Test
  public void testSmoothingEscapeAngleMoreIterationsBetter() {
    testSmoothingEscapeAngleMoreIterationsBetter(
        newLocation(880, 200), newLocation(880, 420), 1, Math.PI / 2);
  }

  @Test
  public void testSmoothingEscapeAngleMoreIterationsBetter2() {
    testSmoothingEscapeAngleMoreIterationsBetter(
        newLocation(950, 200), newLocation(750, 700), 1, Math.PI * .2);
  }

  @Test
  public void testSmoothingEscapeAngleMoreIterationsBetter3() {
    testSmoothingEscapeAngleMoreIterationsBetter(
        newLocation(150, 200), newLocation(250, 700), -1, Math.PI * -0.2);
  }

  private void testSmoothingEscapeAngleMoreIterationsBetter(
      Point2D.Double sourceLocation, Point2D.Double targetLocation,
      int direction, double targetHeading) {
    MovementPredictor predictor = newPredictor();
    RobotState startState = RobotState.newBuilder()
        .setLocation(targetLocation)
        .setHeading(targetHeading)
        .setVelocity(8.0)
        .setTime(1L)
        .build();
    MaxEscapeTarget smoothingTarget = predictor.smoothingPreciseEscapeAngle(
        direction, 0, sourceLocation, 1L, 11.0, startState, 0, 120, 1);
    MaxEscapeTarget smoothingTarget2 = predictor.smoothingPreciseEscapeAngle(
        direction, 0, sourceLocation, 1L, 11.0, startState, 0, 120, 2);
    MaxEscapeTarget smoothingTarget3 = predictor.smoothingPreciseEscapeAngle(
        direction, 0, sourceLocation, 1L, 11.0, startState, 0, 120, 3);
    MaxEscapeTarget smoothingTarget4 = predictor.smoothingPreciseEscapeAngle(
        direction, 0, sourceLocation, 1L, 11.0, startState, 0, 120, 10);
    assertTrue(smoothingTarget.angle <= smoothingTarget2.angle);
    assertTrue(smoothingTarget2.angle <= smoothingTarget3.angle);
    assertTrue(smoothingTarget3.angle <= smoothingTarget4.angle);
  }

  private MovementPredictor newPredictor() {
    return new MovementPredictor(new BattleField(1000, 1000));
  }

  private Point2D.Double newLocation(double x, double y) {
    return new Point2D.Double(x, y);
  }
}
